(this["webpackJsonpdog-breed"]=this["webpackJsonpdog-breed"]||[]).push([[0],{336:function(e,t,a){e.exports=a.p+"static/media/dogwalk2.3be2bb4e.svg"},337:function(e,t,a){e.exports=a.p+"static/media/petadoption.eb67e39f.svg"},338:function(e,t,a){e.exports=a.p+"static/media/dogwalking.d4a57f0a.svg"},369:function(e,t,a){e.exports=a(416)},374:function(e,t,a){},376:function(e,t,a){},385:function(e,t){},386:function(e,t){},394:function(e,t){},397:function(e,t){},398:function(e,t){},416:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(51),l=a.n(c),i=(a(374),a(258)),o=a(22),s=a(5),u=a.n(s),m=a(13),d=a(9),p=(a(376),a(481)),g=a(482),f=a(483),E=a(419),b=a(493),h=a(462),y=a(484),v=a(486),j=a(316),x=a.n(j),w=a(488),I=a(466),S=Object(h.a)((function(e){return{button:{marginTop:e.spacing(3)}}})),O=function(e){var t=e.createEntry,a=e.file,c=e.results,l=e.notif,i=Object(n.useState)(""),o=Object(d.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(""),p=Object(d.a)(m,2),g=p[0],f=p[1],b=Object(n.useState)(""),h=Object(d.a)(b,2),y=h[0],j=h[1],O=Object(n.useState)(""),N=Object(d.a)(O,2),C=N[0],k=N[1],D=S();return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(w.a,{severity:"info"},r.a.createElement(I.a,null,l)):"",r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("image",a,a.name),n.append("title",s),n.append("description",g),n.append("location",C),y?n.append("results",y):n.append("results",JSON.stringify(c)),console.log(n),t(n),u(""),f(""),j(""),k("")}},r.a.createElement("div",null,r.a.createElement(v.a,{id:"title",label:"title",type:"author",value:s,name:"Author",onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"description",type:"text",label:"description",value:g,name:"Url",onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"location",label:"location",type:"text",value:C,name:"Url",onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"url",label:"different results? (optional)",type:"text",value:y,name:"Url",onChange:function(e){return j(e.target.value)}})),r.a.createElement(E.a,{className:D.button,variant:"contained",color:"primary",id:"submit",type:"submit",endIcon:r.a.createElement(x.a,null)},"submit")))},N=a(317),C=a(354),k=a(417),D=a(470),T=a(473),M=a(491),L=a(471),U=a(490),A=a(472),P=a(149),G=a(336),B=a.n(G),Y=a(337),Z=a.n(Y),J=a(338),R=a.n(J),H=a(55),W=a(467),z=a(468),F=a(469),V=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"200px"},paperforHero:{marginTop:"10px",padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"25vh"},actionsContainer:{marginBottom:e.spacing(2)},typographyStyle:{marginTop:"3vh",color:"primary"},imageResizing:{width:"280px"},modelImageResize:{marginTop:"20px",width:"100%",height:"auto"},list:{listStyle:"none"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"}}})),Q=[B.a,R.a,Z.a],K=Q[Math.floor(Math.random()*Q.length)],X={initial:"initial",states:{initial:{on:{next:"loadingModel"}},loadingModel:{on:{next:"awaitingUpload"}},awaitingUpload:{on:{next:"ready"}},ready:{on:{next:"classifying"},showImage:!0},classifying:{on:{next:"complete"}},complete:{on:{next:"awaitingUpload"},showImage:!0,showResults:!0}}},q=function(e,t){return X.states[e].on[t]||X.initial},$=function(e){var t=e.className,a=e.probability;return r.a.createElement(W.a,{key:t},r.a.createElement(z.a,{key:t,button:!0,divider:!0},r.a.createElement(F.a,{key:t,primary:t,secondary:(100*a).toFixed(2)})))},_=function(e){var t=e.user,a=e.createEntry,c=e.notif;C.a("cpu");var l=Object(n.useReducer)(q,X.initial),i=Object(d.a)(l,2),o=i[0],s=i[1],p=Object(n.useState)(null),g=Object(d.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(null),y=Object(d.a)(h,2),v=y[0],j=y[1],x=Object(n.useState)([]),w=Object(d.a)(x,2),I=w[0],S=w[1],G=Object(n.useState)(0),B=Object(d.a)(G,2),Y=B[0],Z=B[1],J=Object(n.useState)(0),R=Object(d.a)(J,2),W=R[0],z=R[1],F=Object(n.useState)(""),Q=Object(d.a)(F,2),_=Q[0],ee=Q[1],te=Object(H.f)(),ae=["Load the model","Insert your image","Let the tool do its job!"],ne=["The model is needed to identify","You can even use your phone camera!","Get the results and even save them"],re=Object(n.useRef)(),ce=Object(n.useRef)(),le=function(){return s("next")},ie={initial:{text:"Load Model",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(),Z(20),e.next=4,N.a();case 4:t=e.sent,b(t),le(),Z(40);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},loadingModel:{text:"Loading Model...",action:function(){}},awaitingUpload:{text:"Upload Photo",action:function(){return re.current.click()}},ready:{text:"Identify",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(2),le(),Z(80),e.next=5,f.classify(ce.current);case 5:t=e.sent,S(t),le(),Z(100),z(3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},classifying:{text:"Identifying",action:function(){}},complete:{text:"Reset",action:function(){S([]),j(null),le(),Z(60)}}},oe=X.states[o],se=oe.showImage,ue=void 0!==se&&se,me=oe.showResults,de=void 0!==me&&me,pe=V();return r.a.createElement("div",{className:pe.root},r.a.createElement(D.a,{container:!0,spacing:2},r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(k.a,{className:pe.paperforHero},r.a.createElement(P.a,{variant:"h2",className:pe.typographyStyle},"Dog Shelter"),r.a.createElement(P.a,{variant:"h6"},"A better place for strays"),r.a.createElement("img",{className:pe.imageResizing,alt:"dog walking",src:K}))),r.a.createElement(D.a,{item:!0,xs:12,sm:4},r.a.createElement(k.a,{className:pe.paper},r.a.createElement(M.a,{activeStep:W,orientation:"vertical"},ae.map((function(e,t){return r.a.createElement(L.a,{key:e},r.a.createElement(U.a,null,e),r.a.createElement(A.a,null,ne[t]))}))))),r.a.createElement(D.a,{item:!0,xs:12,sm:8},r.a.createElement(k.a,{className:pe.paper},r.a.createElement(T.a,{variant:"determinate",value:Y}),r.a.createElement("div",{className:"model-img"},ue&&r.a.createElement("img",{border:1,className:pe.modelImageResize,alt:"preview",src:v,ref:ce})),r.a.createElement("input",{className:"toBeHidden",type:"file",accept:"image/*",capture:"camera",ref:re,onChange:function(e){var t=e.target.files;if(t.length>0){var a=URL.createObjectURL(t[0]);j(a),ee(t[0]),le(),Z(60),z(1)}}}),r.a.createElement("div",{className:pe.aligner},de&&I.map($)),r.a.createElement("div",{className:"modelbtn"},r.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:ie[o].action},ie[o].text),de&&t?r.a.createElement(O,{createEntry:a,file:_,results:I,notif:c}):""),t?"":r.a.createElement("div",null,r.a.createElement("p",null,"In order to save the results you have to"," ",r.a.createElement(E.a,{color:"primary",onClick:function(){te.push("/login")}},"Login")))))))},ee=a(339),te=a.n(ee),ae=a(418),ne=a(340),re=a.n(ne),ce=a(474),le=a(341),ie=a.n(le),oe=function(){return r.a.createElement(P.a,{color:"secondary",align:"center"},"Made with"," ",r.a.createElement(te.a,{fontSize:"small"})," by Kostas Fegoulis",r.a.createElement(ce.a,{href:"https://github.com/KostasFeg"},r.a.createElement(ae.a,null,r.a.createElement(re.a,null))),r.a.createElement(ce.a,{href:"https://www.instagram.com/kostasfeg21/"},r.a.createElement(ae.a,null,r.a.createElement(ie.a,null))))},se=a(492),ue=a(475),me=a(476),de=a(252),pe=a.n(de),ge=a(477),fe=a(478),Ee=a(346),be=a.n(Ee),he=a(344),ye=a.n(he),ve=a(348),je=a.n(ve),xe=a(345),we=a.n(xe),Ie=a(347),Se=a.n(Ie),Oe=a(342),Ne=a.n(Oe),Ce=a(494),ke=a(343),De=a.n(ke),Te=a(182),Me=a.n(Te);Me.a.extend(De.a);var Le=Object(h.a)((function(e){return{root:{width:"100%",alignItems:"center",justify:"center"},heading:{fontSize:e.typography.pxToRem(17),fontWeight:e.typography.fontWeightRegular,marginLeft:"15px"},large:{width:e.spacing(4),height:e.spacing(4)},larger:{width:e.spacing(38),alignSelf:"center",alignItems:"center",justifyItems:"center",marginBottom:"60px"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"},alignerImg:{display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"},invisible:{opacity:"0",overflow:"hidden",transform:"scale(0)"},margin:{margin:"5px"},flexSummary:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},marginLeft:{marginLeft:"15px"}}})),Ue=function(e){var t=e.className,a=e.probability;return r.a.createElement("li",{text:"primary",key:t},"".concat(t,": ").concat((100*a).toFixed(2),"%"))},Ae=function(e){var t=e.user,a=e.entry,c=e.handleLikes,l=e.handleDeletion,i=Object(n.useState)(""),o=Object(d.a)(i,2),s=o[0],u=o[1],m=Le(),p=Object(n.useRef)(null);return r.a.createElement(se.a,{className:m.margin},r.a.createElement(ue.a,{expandIcon:r.a.createElement(pe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement("div",{className:m.flexSummary},r.a.createElement(b.a,{alt:"Image",src:a.photoUrl,className:m.large}),r.a.createElement(P.a,{className:m.heading},a.title),r.a.createElement(Ce.a,{className:m.marginLeft,size:"small",color:a.user.username===t.username?"secondary":"primary",variant:"outlined",label:Me()(a.createdAt).fromNow()}))),r.a.createElement(me.a,null,r.a.createElement("div",{className:m.root},r.a.createElement(D.a,{container:!0,spacing:3},r.a.createElement(D.a,{item:!0,xs:12,sm:6,className:m.alignerImg},r.a.createElement("div",{className:m.aligner},r.a.createElement("img",{border:5,variant:"rounded",alt:"Imageofdog",src:a.photoUrl,className:m.larger}))),r.a.createElement(D.a,{item:!0,xs:12,sm:6},s?r.a.createElement(w.a,{severity:"info"},s):"",r.a.createElement(W.a,{component:"nav",className:m.root,"aria-label":"mailbox folders"},r.a.createElement(z.a,{button:!0},r.a.createElement(ge.a,null,r.a.createElement(ye.a,null)),r.a.createElement(F.a,{primary:Ne()(a.results)?r.a.createElement("ul",null," ",JSON.parse(a.results).map(Ue)):r.a.createElement("p",null,a.results)})),r.a.createElement(fe.a,null),r.a.createElement(z.a,{button:!0,onClick:function(e){p.current.select(),document.execCommand("copy"),u("".concat(a.user.username," is copied to clipboard!")),setTimeout((function(){u("")}),2e3),e.target.focus()},divider:!0},r.a.createElement(ge.a,null,r.a.createElement(we.a,null)),r.a.createElement(F.a,{ref:p,primary:a.user.username,value:a.user.username,secondary:a.user.name})),r.a.createElement(z.a,{button:!0},r.a.createElement(ge.a,null,r.a.createElement(be.a,null)),r.a.createElement(F.a,{primary:a.description})),r.a.createElement(fe.a,{light:!0}),r.a.createElement(z.a,{button:!0},r.a.createElement(ge.a,null,r.a.createElement(Se.a,null)),r.a.createElement(F.a,{primary:a.location})),r.a.createElement(fe.a,{light:!0}),r.a.createElement(z.a,{button:!0},r.a.createElement(ge.a,null,r.a.createElement(je.a,null)),r.a.createElement(F.a,{primary:a.likes,secondary:Me()(a.createdAt).format("DD/MM/YYYY  HH:mm:ss")}))),r.a.createElement(E.a,{display:"inline",edge:"end",color:"primary",variant:"contained","aria-label":"delete",onClick:c},"Like"),a.user.username===t.username?r.a.createElement(E.a,{variant:"contained",color:"secondary",id:"delete-button",onClick:l}," ","Delete"):"",r.a.createElement("input",{readOnly:!0,className:m.invisible,value:a.user.username,ref:p}))))))},Pe=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center"},loginbtn:{}}})),Ge=function(e){var t=e.user,a=e.entries,n=e.handleLikes,c=e.handleDeletion,l=Object(H.f)(),i=Pe();return t?a.map((function(e){return r.a.createElement(Ae,{entry:e,key:e.id,user:t,handleDeletion:function(){return c(e.id)},handleLikes:function(){return n(e.id)}})})):r.a.createElement("div",{className:i.root},r.a.createElement(D.a,{container:!0,spacing:3},r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(k.a,{className:i.paperForEntries},r.a.createElement(P.a,null,"In order to view the entries you have to"," ",r.a.createElement(E.a,{color:"secondary",onClick:function(){l.push("/login")}},"Login"))))))},Be=Object(h.a)((function(e){return{button:{marginTop:e.spacing(2)}}})),Ye=function(e){var t=e.handleSubmit,a=e.handleUsernameChange,n=e.handlePasswordChange,c=e.username,l=e.password,i=Be();return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Log In"),r.a.createElement("div",null,r.a.createElement(v.a,{id:"standard-basic",label:"email",type:"text",value:c,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",label:"password",value:l,name:"Password",onChange:n})),r.a.createElement(E.a,{className:i.button,variant:"contained",color:"primary",id:"login-button",type:"submit"},"login"))},Ze=Object(h.a)((function(e){return{button:{marginTop:e.spacing(2)}}})),Je=function(e){var t=e.handleSubmit,a=e.handleSignUsernameChange,n=e.handleSignPasswordChange,c=e.handleSignNameChange,l=e.handleConfirmPasswordChange,i=e.signUsername,o=e.signName,s=e.signPassword,u=e.confirmPassword,m=Ze();return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Sign-Up"),r.a.createElement("div",null,r.a.createElement(v.a,{id:"mail",type:"email",label:"email",value:i,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"name",type:"text",label:"name",value:o,name:"name",onChange:c})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",id:"password",label:"password",value:s,name:"Password",onChange:n})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",id:"confirmpass",label:"confirm password",value:u,name:"Password",onChange:l})),r.a.createElement(E.a,{className:m.button,variant:"contained",color:"secondary",id:"login-button",type:"submit"},"Sign-Up"))},Re=a(118),He=a.n(Re),We={signUp:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ze=a(479),Fe=a(351),Ve=a.n(Fe),Qe=a(350),Ke=a.n(Qe),Xe=a(349),qe=a.n(Xe),$e=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:"10px"}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center",backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgNDAsNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMjcpIj48cmVjdCBpZD0icGF0dGVybi1iYWNrZ3JvdW5kIiB3aWR0aD0iNDAwJSIgaGVpZ2h0PSI0MDAlIiBmaWxsPSJyZ2JhKDYzLCA4MSwgMTgxLDEpIj48L3JlY3Q+IDxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSI1IiBjeT0iMzEiIHI9IjEuNSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDIxNCwgMjQsIDI1MSwxKSIgY3g9IjI1IiBjeT0iOSIgcj0iMS41Ij48L2NpcmNsZT48Y2lyY2xlIGZpbGw9InJnYmEoMjE0LCAyNCwgMjUxLDEpIiBjeD0iNSIgY3k9Ii05IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSIyNSIgY3k9IjQ5IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgxMjcsIDExOCwgMTIxLDEpIiBjeD0iMTUiIGN5PSIyMCIgcj0iMi43NSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDEyNywgMTE4LCAxMjEsMSkiIGN4PSIzNSIgY3k9IjIwIiByPSIyLjc1Ij48L2NpcmNsZT48L3BhdHRlcm4+ICA8L2RlZnM+IDxyZWN0IGZpbGw9InVybCgjcGF0dGVybikiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvcmVjdD48L3N2Zz4=")'},orange:{color:e.palette.getContrastText(ze.a[500]),backgroundColor:ze.a[500]},loginbtn:{},margin:{marginTop:"10px"}}})),_e=function(e){var t=e.user,a=e.logOut,c=e.handleLogin,l=Object(n.useState)(!0),i=Object(d.a)(l,2),o=i[0],s=i[1],p=Object(n.useState)(""),g=Object(d.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),y=Object(d.a)(h,2),v=y[0],j=y[1],x=Object(n.useState)(""),S=Object(d.a)(x,2),O=S[0],N=S[1],C=Object(n.useState)(""),T=Object(d.a)(C,2),M=T[0],L=T[1],U=Object(n.useState)(null),A=Object(d.a)(U,2),G=A[0],B=A[1],Y=Object(n.useState)(null),Z=Object(d.a)(Y,2),J=Z[0],R=Z[1],H=Object(n.useState)(""),V=Object(d.a)(H,2),Q=V[0],K=V[1],X=Object(n.useState)(""),q=Object(d.a)(X,2),$=q[0],_=q[1],ee=function(e){e.preventDefault(),M===O?te():(R("warning"),B("Passwords do not match"),setTimeout((function(){B(null)}),3e3))},te=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We.signUp({username:f,name:v,password:O});case 3:R("success"),B("New account successfully created!"),setTimeout((function(){B(null)}),5e3),b(""),N(""),j(""),L(""),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),R("info"),B(e.t0.response.data.error),setTimeout((function(){B(null)}),5e3),console.log(e.t0.response.data.error);case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),ae=function(e){e.preventDefault(),c({username:Q,password:$})},ne=$e();return t?r.a.createElement(se.a,{className:ne.margin},r.a.createElement(ue.a,{expandIcon:r.a.createElement(pe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(P.a,{className:ne.heading},t.name,"' profile",r.a.createElement(E.a,{onClick:a},"LogOut"))),r.a.createElement(me.a,null,r.a.createElement(W.a,{component:"nav",className:ne.root,"aria-label":"mailbox folders"},r.a.createElement(z.a,{button:!0},r.a.createElement(ge.a,null,r.a.createElement(qe.a,null)),r.a.createElement(F.a,{primary:"account created:",secondary:Me()(t.date).format("DD/MM/YYYY  HH:mm:ss")})),r.a.createElement(fe.a,null),r.a.createElement(z.a,{button:!0,divider:!0},r.a.createElement(ge.a,null,r.a.createElement(Ke.a,null)),r.a.createElement(F.a,{primary:"number of entries",secondary:t.entries.length})),r.a.createElement(z.a,{button:!0},r.a.createElement(ge.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(F.a,{primary:"name",secondary:t.username})),r.a.createElement(fe.a,{light:!0}),r.a.createElement(z.a,{button:!0},r.a.createElement(ge.a,null),r.a.createElement(F.a,null))))):r.a.createElement("div",{className:ne.root},r.a.createElement(D.a,{className:ne.margin,container:!0,spacing:3},r.a.createElement(D.a,{item:!0,xs:12,sm:12},r.a.createElement(k.a,{className:ne.paper},r.a.createElement(Ye,{username:Q,password:$,handleUsernameChange:function(e){var t=e.target;return K(t.value)},handlePasswordChange:function(e){var t=e.target;return _(t.value)},handleSubmit:ae}),"you don' t have an account?",r.a.createElement(E.a,{color:"secondary",onClick:function(){s(!o)}},"Sign-Up"))),r.a.createElement(D.a,{item:!0,xs:12,sm:12},G&&r.a.createElement(w.a,{variant:"filled",severity:J},r.a.createElement(I.a,null,G)),o?"":r.a.createElement(k.a,{className:ne.paper},r.a.createElement(Je,{signUsername:f,signName:v,signPassword:O,confirmPassword:M,handleSignUsernameChange:function(e){var t=e.target;return b(t.value)},handleSignNameChange:function(e){var t=e.target;return j(t.value)},handleSignPasswordChange:function(e){var t=e.target;return N(t.value)},handleConfirmPasswordChange:function(e){var t=e.target;return L(t.value)},handleSubmit:ee})))))},et={login:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllUsers:function(){return He.a.get("/api/users").then((function(e){return e.data}))}},tt=null,at={getAll:function(e,t,a,n){return He.a.get("/api/entries?page=".concat(e,"&limit=").concat(t,"&query=").concat(a,"&curUser=").concat(n)).then((function(e){return e.data}))},create:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:tt}},e.next=3,He.a.post("/api/entries",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){tt="bearer ".concat(e)},update:function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.put("".concat("/api/entries","/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleted:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:tt}},e.next=3,He.a.delete("".concat("/api/entries","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},nt=a(138),rt=a(355),ct=a(480),lt=a(487),it=a(352),ot=a.n(it),st=a(353),ut=a.n(st),mt=a(489),dt=a(485),pt=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},orange:{color:e.palette.getContrastText(ze.a[500]),backgroundColor:ze.a[500]},pagination:{alignItems:"center",textAlign:"center",justifyContent:"center",justifySelf:"center"},paginator:{alignItems:"center",justifyItems:"center"},centerAlignment:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center","& > *":{margin:e.spacing(1)}},centerAlignmentBot:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}},center:{},end:{height:"100%"},toolbarSettings:{display:"flex",justifyContent:"space-evenly"},notifStyle:{marginTop:"10px"}}})),gt=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(d.a)(l,2),h=s[0],j=s[1],x=Object(n.useState)(null),S=Object(d.a)(x,2),O=S[0],N=S[1],C=Object(n.useState)(null),k=Object(d.a)(C,2),D=k[0],T=k[1],M=Object(n.useState)(null),L=Object(d.a)(M,2),U=L[0],A=L[1],P=Object(n.useState)(null),G=Object(d.a)(P,2),B=G[0],Y=G[1],Z=Object(n.useState)(1),J=Object(d.a)(Z,2),R=J[0],W=J[1],z=Object(n.useState)(5),F=Object(d.a)(z,2),V=F[0],Q=F[1],K=Object(n.useState)(""),X=Object(d.a)(K,2),q=X[0],$=X[1],ee=Object(n.useState)(2),te=Object(d.a)(ee,2),ne=te[0],re=te[1],ce=Object(n.useState)(""),le=Object(d.a)(ce,2),ie=le[0],se=le[1],ue=h?r.a.createElement(ut.a,null):r.a.createElement(ot.a,null);Object(n.useEffect)((function(){at.getAll(R,V,q,ie).then((function(e){return[c(e.results),re(e.docs)]}))}),[R,V,q,ie]);var me=Object(rt.a)({palette:{type:h?"dark":"light"}});Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedBlogAppUser");if(e){var t=JSON.parse(e);Y(t),at.setToken(t.token)}}),[]);var de=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.prev=1,e.next=4,et.login({username:a,password:n});case 4:r=e.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(r)),at.setToken(r.token),Y(r),T("success"),N("Welcome ".concat(r.name,"!")),setTimeout((function(){N(null)}),5e3),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),T("warning"),N("wrong mail or password"),setTimeout((function(){N(null)}),5e3);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(e){Q(e)},ge=pt();return r.a.createElement(ct.a,{theme:me},r.a.createElement(p.a,null,r.a.createElement(g.a,{position:"static"},r.a.createElement(f.a,{className:ge.toolbarSettings},r.a.createElement(E.a,{color:"inherit",component:nt.b,to:"/"},"home"),r.a.createElement(E.a,{color:"inherit",component:nt.b,to:"/entries"},"entries"),r.a.createElement(E.a,{className:ge.loginbtn,color:"inherit",component:nt.b,to:"/login"},B?r.a.createElement(b.a,{className:ge.orange},B.name.substring(0,2)):"login/sign-up"),r.a.createElement(ae.a,{edge:"end",color:"inherit","aria-label":"mode",onClick:function(){return j(!h)}},ue))),O&&r.a.createElement(w.a,{className:ge.notifStyle,variant:"filled",severity:D},r.a.createElement(I.a,null,O)),r.a.createElement("div",{className:ge.rooted}),r.a.createElement(H.c,null,r.a.createElement(H.a,{path:"/entries"},B?r.a.createElement("div",{className:ge.centerAlignment},r.a.createElement(y.a,{disabled:ie,className:ge.center,variant:"text",color:"secondary","aria-label":"contained primary button group"},r.a.createElement(E.a,{onClick:function(){return pe(5)}},"5"),r.a.createElement(E.a,{onClick:function(){return pe(10)}},"10"),r.a.createElement(E.a,{onClick:function(){return pe(15)}},"15")),r.a.createElement("form",{className:ge.end,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{disabled:ie,color:"secondary",id:"Search",label:"Search",value:q,onChange:function(e){return $(e.target.value)}})),r.a.createElement(dt.a,{control:r.a.createElement(mt.a,{onChange:function(){if(!ie)return se(B.username);se("")},name:"checkedB",color:"primary"}),label:"current user results"})):"",r.a.createElement(Ge,{key:B,user:B,entries:a,handleLikes:function(e){var t=a.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{likes:t.likes+1});at.update(e,n).then((function(){c(a.map((function(t){return t.id!==e?t:n})))}))},handleDeletion:function(e){var t=a.find((function(t){return t.id===e}));window.confirm("Remove ".concat(t.title,"?"))&&at.deleted(e).then((function(){c(a.filter((function(e){return e!==t})))}))}}),B?r.a.createElement("div",{className:ge.centerAlignmentBot},r.a.createElement(lt.a,{className:ge.paginator,align:"center",count:Math.ceil(ne/V),page:R,onChange:function(e,t){W(t)},defaultPage:1,disabled:ie})):""),r.a.createElement(H.a,{path:"/login"},r.a.createElement(_e,{user:B,logOut:function(){window.localStorage.removeItem("loggedBlogAppUser"),Y(null)},handleLogin:de})),r.a.createElement(H.a,{path:"/"},r.a.createElement(_,{user:B,createEntry:function(e){at.create(e).then((function(e){c([].concat(Object(o.a)(a),[e])),T("success"),A("New entry ".concat(e.title,"!")),setTimeout((function(){A(null)}),5e3)})).catch((function(e){console.log(e),T("warning"),A(e.response.data.error),setTimeout((function(){A(null)}),5e3)}))},notif:U}))),r.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(nt.a,null,r.a.createElement(gt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[369,1,2]]]);
//# sourceMappingURL=main.f5d2f492.chunk.js.map