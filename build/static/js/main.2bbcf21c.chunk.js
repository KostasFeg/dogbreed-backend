(this["webpackJsonpdog-breed"]=this["webpackJsonpdog-breed"]||[]).push([[0],{335:function(e,t,a){e.exports=a.p+"static/media/petadoptionblue.53fbea2c.svg"},362:function(e,t,a){e.exports=a(409)},367:function(e,t,a){},369:function(e,t,a){},377:function(e,t){},378:function(e,t){},386:function(e,t){},389:function(e,t){},390:function(e,t){},409:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(51),l=a.n(c),i=(a(367),a(257)),o=a(22),s=a(5),u=a.n(s),m=a(13),d=a(9),p=(a(369),a(473)),g=a(474),f=a(475),E=a(411),b=a(485),h=a(459),y=a(478),v=a(479),j=function(e){var t=e.createEntry,a=e.file,c=e.results,l=Object(n.useState)(""),i=Object(d.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(""),m=Object(d.a)(u,2),p=m[0],g=m[1],f=Object(n.useState)(""),b=Object(d.a)(f,2),h=b[0],y=b[1],j=Object(n.useState)(""),x=Object(d.a)(j,2),w=x[0],I=x[1];return r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("image",a,a.name),n.append("title",o),n.append("description",p),n.append("location",w),h?n.append("results",h):n.append("results",JSON.stringify(c)),console.log(n),t(n),s(""),g(""),y(""),I("")}},r.a.createElement("div",null,r.a.createElement(v.a,{id:"title",label:"title",type:"author",value:o,name:"Author",onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"description",type:"text",label:"description",value:p,name:"Url",onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"location",label:"location",type:"text",value:w,name:"Url",onChange:function(e){return I(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"url",label:"different results? (optional)",type:"text",value:h,name:"Url",onChange:function(e){return y(e.target.value)}})),r.a.createElement(E.a,{id:"submit",type:"submit"},"submit"))},x=a(316),w=a(347),I=a(410),S=a(462),O=a(465),N=a(483),C=a(463),k=a(482),D=a(464),A=a(184),L=a(335),P=a.n(L),U=a(55),M=a(458),T=a(460),G=a(461),B=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"200px"},paperforHero:{marginTop:"15px",padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"30vh"},actionsContainer:{marginBottom:e.spacing(2)},typographyStyle:{marginTop:"3vh",color:"primary"},imageResizing:{width:"200px"},modelImageResize:{width:e.spacing(35),marginTop:"20px"},list:{listStyle:"none"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"}}})),Y={initial:"initial",states:{initial:{on:{next:"loadingModel"}},loadingModel:{on:{next:"awaitingUpload"}},awaitingUpload:{on:{next:"ready"}},ready:{on:{next:"classifying"},showImage:!0},classifying:{on:{next:"complete"}},complete:{on:{next:"awaitingUpload"},showImage:!0,showResults:!0}}},Z=function(e,t){return Y.states[e].on[t]||Y.initial},J=function(e){var t=e.className,a=e.probability;return r.a.createElement(M.a,{key:t},r.a.createElement(T.a,{key:t,button:!0,divider:!0},r.a.createElement(G.a,{key:t,primary:t,secondary:(100*a).toFixed(2)})))},R=function(e){var t=e.user,a=e.createEntry;w.a("cpu");var c=Object(n.useReducer)(Z,Y.initial),l=Object(d.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(null),p=Object(d.a)(s,2),g=p[0],f=p[1],b=Object(n.useState)(null),h=Object(d.a)(b,2),y=h[0],v=h[1],L=Object(n.useState)([]),M=Object(d.a)(L,2),T=M[0],G=M[1],R=Object(n.useState)(0),H=Object(d.a)(R,2),W=H[0],z=H[1],V=Object(n.useState)(0),F=Object(d.a)(V,2),Q=F[0],X=F[1],K=Object(n.useState)(""),q=Object(d.a)(K,2),$=q[0],_=q[1],ee=Object(U.f)(),te=["Load the model","Insert your image","Let the tool do its job!"],ae=Object(n.useRef)(),ne=Object(n.useRef)(),re=function(){return o("next")},ce={initial:{text:"Load Model",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(),z(20),e.next=4,x.a();case 4:t=e.sent,f(t),re(),z(40);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},loadingModel:{text:"Loading Model...",action:function(){}},awaitingUpload:{text:"Upload Photo",action:function(){return ae.current.click()}},ready:{text:"Identify",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(2),re(),z(80),e.next=5,g.classify(ne.current);case 5:t=e.sent,G(t),re(),z(100),X(3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},classifying:{text:"Identifying",action:function(){}},complete:{text:"Reset",action:function(){G([]),v(null),re(),z(60)}}},le=Y.states[i],ie=le.showImage,oe=void 0!==ie&&ie,se=le.showResults,ue=void 0!==se&&se,me=B();return r.a.createElement("div",{className:me.root},r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(I.a,{className:me.paperforHero},r.a.createElement(A.a,{variant:"h2",className:me.typographyStyle},"Dog Shelter"),r.a.createElement(A.a,{variant:"h6"},"A better place for strays"),r.a.createElement("img",{className:me.imageResizing,alt:"dog walking",src:P.a}))),r.a.createElement(S.a,{item:!0,xs:12,sm:4},r.a.createElement(I.a,{className:me.paper},r.a.createElement(N.a,{activeStep:Q,orientation:"vertical"},te.map((function(e,t){return r.a.createElement(C.a,{key:e},r.a.createElement(k.a,null,e),r.a.createElement(D.a,null,["The model is needed to identify","You can even use your phone camera!","Get the results and even save them"]))}))))),r.a.createElement(S.a,{item:!0,xs:12,sm:8},r.a.createElement(I.a,{className:me.paper},r.a.createElement(O.a,{variant:"determinate",value:W}),r.a.createElement("div",{className:"model-img"},oe&&r.a.createElement("img",{border:1,className:me.modelImageResize,alt:"preview",src:y,ref:ne})),r.a.createElement("input",{className:"toBeHidden",type:"file",accept:"image/*",capture:"camera",ref:ae,onChange:function(e){var t=e.target.files;if(t.length>0){var a=URL.createObjectURL(t[0]);v(a),_(t[0]),re(),z(60),X(1)}}}),r.a.createElement("div",{className:me.aligner},ue&&T.map(J)),r.a.createElement("div",{className:"modelbtn"},r.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:ce[i].action},ce[i].text),ue&&t?r.a.createElement(j,{createEntry:a,file:$,results:T}):""),t?"":r.a.createElement("div",null,r.a.createElement("p",null,"In order to save the results you have to"," ",r.a.createElement(E.a,{onClick:function(){ee.push("/login")}},"Login")))))))},H=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Made with by Kostas Fegoulis"))},W=a(484),z=a(466),V=a(467),F=a(252),Q=a.n(F),X=a(468),K=a(469),q=a(340),$=a.n(q),_=a(338),ee=a.n(_),te=a(342),ae=a.n(te),ne=a(339),re=a.n(ne),ce=a(341),le=a.n(ce),ie=a(336),oe=a.n(ie),se=a(486),ue=a(337),me=a.n(ue),de=a(481),pe=a(183),ge=a.n(pe);ge.a.extend(me.a);var fe=Object(h.a)((function(e){return{root:{width:"100%",alignItems:"center",justify:"center"},heading:{fontSize:e.typography.pxToRem(16),fontWeight:e.typography.fontWeightRegular,align:"right"},large:{width:e.spacing(4),height:e.spacing(4)},larger:{width:e.spacing(38),alignSelf:"center",alignItems:"center",justifyItems:"center",marginBottom:"60px"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"},alignerImg:{display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"},invisible:{opacity:"0",overflow:"hidden",transform:"scale(0)"},margin:{margin:"5px"},flexSummary:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}})),Ee=function(e){var t=e.className,a=e.probability;return r.a.createElement("li",{text:"primary",key:t},"".concat(t,": ").concat((100*a).toFixed(2),"%"))},be=function(e){var t=e.user,a=e.entry,c=e.handleLikes,l=e.handleDeletion,i=Object(n.useState)(""),o=Object(d.a)(i,2),s=o[0],u=o[1],m=fe(),p=Object(n.useRef)(null);return r.a.createElement(W.a,{className:m.margin},r.a.createElement(z.a,{expandIcon:r.a.createElement(Q.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement("div",{className:m.flexSummary},r.a.createElement(b.a,{alt:"Image",src:a.photoUrl,className:m.large}),r.a.createElement(A.a,{className:m.heading},a.title),r.a.createElement(se.a,{size:"small",color:a.user.username===t.username?"secondary":"primary",variant:"outlined",label:ge()(a.createdAt).fromNow()}))),r.a.createElement(V.a,null,r.a.createElement("div",{className:m.root},r.a.createElement(S.a,{container:!0,spacing:3},r.a.createElement(S.a,{item:!0,xs:12,sm:6,className:m.alignerImg},r.a.createElement("div",{className:m.aligner},r.a.createElement("img",{border:5,variant:"rounded",alt:"Imageofdog",src:a.photoUrl,className:m.larger}))),r.a.createElement(S.a,{item:!0,xs:12,sm:6},s?r.a.createElement(de.a,{severity:"info"},s):"",r.a.createElement(M.a,{component:"nav",className:m.root,"aria-label":"mailbox folders"},r.a.createElement(T.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(ee.a,null)),r.a.createElement(G.a,{primary:oe()(a.results)?r.a.createElement("ul",null," ",JSON.parse(a.results).map(Ee)):r.a.createElement("p",null,a.results)})),r.a.createElement(K.a,null),r.a.createElement(T.a,{button:!0,onClick:function(e){p.current.select(),document.execCommand("copy"),u("".concat(a.user.username," is copied to clipboard!")),setTimeout((function(){u("")}),2e3),e.target.focus()},divider:!0},r.a.createElement(X.a,null,r.a.createElement(re.a,null)),r.a.createElement(G.a,{ref:p,primary:a.user.username,value:a.user.username,secondary:a.user.name})),r.a.createElement(T.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement($.a,null)),r.a.createElement(G.a,{primary:a.description})),r.a.createElement(K.a,{light:!0}),r.a.createElement(T.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(le.a,null)),r.a.createElement(G.a,{primary:a.location})),r.a.createElement(K.a,{light:!0}),r.a.createElement(T.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(ae.a,null)),r.a.createElement(G.a,{primary:a.likes,secondary:ge()(a.createdAt).format("DD/MM/YYYY  HH:mm:ss")}))),r.a.createElement(E.a,{display:"inline",edge:"end",color:"primary",variant:"contained","aria-label":"delete",onClick:c},"Like"),a.user.username===t.username?r.a.createElement(E.a,{variant:"contained",color:"secondary",id:"delete-button",onClick:l}," ","Delete"):"",r.a.createElement("input",{readOnly:!0,className:m.invisible,value:a.user.username,ref:p}))))))},he=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center"},loginbtn:{}}})),ye=function(e){var t=e.user,a=e.entries,n=e.handleLikes,c=e.handleDeletion,l=Object(U.f)(),i=he();return t?a.map((function(e){return r.a.createElement(be,{entry:e,key:e.id,user:t,handleDeletion:function(){return c(e.id)},handleLikes:function(){return n(e.id)}})})):r.a.createElement("div",{className:i.root},r.a.createElement(S.a,{container:!0,spacing:3},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(I.a,{className:i.paperForEntries},r.a.createElement(A.a,null,"In order to view the entries you have to"," ",r.a.createElement(E.a,{color:"secondary",onClick:function(){l.push("/login")}},"Login"))))))},ve=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],l=a[1],i={display:c?"none":""},o={display:c?"":"none"},s=function(){l(!c)};return r.a.createElement("div",null,r.a.createElement("div",{style:i},r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:s},e.buttonLabel)),r.a.createElement("div",{style:o},e.children,r.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:s},"cancel")))},je=function(e){var t=e.handleSubmit,a=e.handleUsernameChange,n=e.handlePasswordChange,c=e.username,l=e.password;return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Log In"),r.a.createElement("div",null,r.a.createElement(v.a,{id:"standard-basic",label:"email",type:"text",value:c,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",label:"password",value:l,name:"Password",onChange:n})),r.a.createElement(E.a,{id:"login-button",color:"primary",type:"submit"},"login"))},xe=function(e){var t=e.handleSubmit,a=e.handleSignUsernameChange,n=e.handleSignPasswordChange,c=e.handleSignNameChange,l=e.handleConfirmPasswordChange,i=e.signUsername,o=e.signName,s=e.signPassword,u=e.confirmPassword;return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Sign-Up"),r.a.createElement("div",null,r.a.createElement(v.a,{id:"mail",type:"email",label:"email",value:i,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"name",type:"text",label:"name",value:o,name:"name",onChange:c})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",id:"password",label:"password",value:s,name:"Password",onChange:n})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",id:"confirmpass",label:"confirm password",value:u,name:"Password",onChange:l})),r.a.createElement(E.a,{id:"login-button",type:"submit"},"Sign-Up"))},we=a(117),Ie=a.n(we),Se={signUp:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oe=a(470),Ne=a(471),Ce=a(345),ke=a.n(Ce),De=a(344),Ae=a.n(De),Le=a(343),Pe=a.n(Le),Ue=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center",backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgNDAsNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMjcpIj48cmVjdCBpZD0icGF0dGVybi1iYWNrZ3JvdW5kIiB3aWR0aD0iNDAwJSIgaGVpZ2h0PSI0MDAlIiBmaWxsPSJyZ2JhKDYzLCA4MSwgMTgxLDEpIj48L3JlY3Q+IDxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSI1IiBjeT0iMzEiIHI9IjEuNSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDIxNCwgMjQsIDI1MSwxKSIgY3g9IjI1IiBjeT0iOSIgcj0iMS41Ij48L2NpcmNsZT48Y2lyY2xlIGZpbGw9InJnYmEoMjE0LCAyNCwgMjUxLDEpIiBjeD0iNSIgY3k9Ii05IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSIyNSIgY3k9IjQ5IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgxMjcsIDExOCwgMTIxLDEpIiBjeD0iMTUiIGN5PSIyMCIgcj0iMi43NSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDEyNywgMTE4LCAxMjEsMSkiIGN4PSIzNSIgY3k9IjIwIiByPSIyLjc1Ij48L2NpcmNsZT48L3BhdHRlcm4+ICA8L2RlZnM+IDxyZWN0IGZpbGw9InVybCgjcGF0dGVybikiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvcmVjdD48L3N2Zz4=")'},orange:{color:e.palette.getContrastText(Oe.a[500]),backgroundColor:Oe.a[500]},loginbtn:{},margin:{marginTop:"10px"}}})),Me=function(e){var t=e.user,a=e.logOut,c=e.handleLogin,l=Object(n.useState)(!0),i=Object(d.a)(l,2),o=i[0],s=i[1],p=Object(n.useState)(""),g=Object(d.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),y=Object(d.a)(h,2),v=y[0],j=y[1],x=Object(n.useState)(""),w=Object(d.a)(x,2),O=w[0],N=w[1],C=Object(n.useState)(""),k=Object(d.a)(C,2),D=k[0],L=k[1],P=Object(n.useState)(null),U=Object(d.a)(P,2),B=U[0],Y=U[1],Z=Object(n.useState)(null),J=Object(d.a)(Z,2),R=J[0],H=J[1],F=Object(n.useState)(""),q=Object(d.a)(F,2),$=q[0],_=q[1],ee=Object(n.useState)(""),te=Object(d.a)(ee,2),ae=te[0],ne=te[1],re=function(e){e.preventDefault(),D===O?ce():(H("warning"),Y("Passwords do not match"),setTimeout((function(){Y(null)}),3e3))},ce=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se.signUp({username:f,name:v,password:O});case 3:Y("New account successfully created!"),setTimeout((function(){Y(null)}),5e3),b(""),N(""),j(""),L(""),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),H("warning"),Y(e.t0.response.data.error),setTimeout((function(){Y(null)}),5e3),console.log(e.t0.response.data.error);case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),le=function(e){e.preventDefault(),c({username:$,password:ae})},ie=Ue();return t?r.a.createElement(W.a,{className:ie.margin},r.a.createElement(z.a,{expandIcon:r.a.createElement(Q.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(A.a,{className:ie.heading},t.name,"' profile",r.a.createElement(E.a,{onClick:a},"LogOut"))),r.a.createElement(V.a,null,r.a.createElement(M.a,{component:"nav",className:ie.root,"aria-label":"mailbox folders"},r.a.createElement(T.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(Pe.a,null)),r.a.createElement(G.a,{primary:"account created:",secondary:ge()(t.date).format("DD/MM/YYYY  HH:mm:ss")})),r.a.createElement(K.a,null),r.a.createElement(T.a,{button:!0,divider:!0},r.a.createElement(X.a,null,r.a.createElement(Ae.a,null)),r.a.createElement(G.a,{primary:"number of entries",secondary:t.entries.length})),r.a.createElement(T.a,{button:!0},r.a.createElement(X.a,null,r.a.createElement(ke.a,null)),r.a.createElement(G.a,{primary:"name",secondary:t.username})),r.a.createElement(K.a,{light:!0}),r.a.createElement(T.a,{button:!0},r.a.createElement(X.a,null),r.a.createElement(G.a,null))))):r.a.createElement("div",{className:ie.root},r.a.createElement(S.a,{className:ie.margin,container:!0,spacing:3},r.a.createElement(S.a,{item:!0,xs:12,sm:12},r.a.createElement(I.a,{className:ie.paper},r.a.createElement(ve,{buttonLabel:"login"},r.a.createElement(je,{username:$,password:ae,handleUsernameChange:function(e){var t=e.target;return _(t.value)},handlePasswordChange:function(e){var t=e.target;return ne(t.value)},handleSubmit:le})),"you dont have an account?",r.a.createElement(E.a,{onClick:function(){s(!o)}},"Sign-Up"))),r.a.createElement(S.a,{item:!0,xs:12,sm:12},B&&r.a.createElement(de.a,{variant:"filled",severity:R},r.a.createElement(Ne.a,null,B)),o?"":r.a.createElement(I.a,{className:ie.paper},r.a.createElement(ve,{buttonLabel:"signup"},r.a.createElement(xe,{signUsername:f,signName:v,signPassword:O,confirmPassword:D,handleSignUsernameChange:function(e){var t=e.target;return b(t.value)},handleSignNameChange:function(e){var t=e.target;return j(t.value)},handleSignPasswordChange:function(e){var t=e.target;return N(t.value)},handleConfirmPasswordChange:function(e){var t=e.target;return L(t.value)},handleSubmit:re}))))))},Te={login:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllUsers:function(){return Ie.a.get("/api/users").then((function(e){return e.data}))}},Ge=null,Be={getAll:function(e,t,a){return Ie.a.get("/api/entries?page=".concat(e,"&limit=").concat(t,"&query=").concat(a)).then((function(e){return e.data}))},create:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Ge}},e.next=3,Ie.a.post("/api/entries",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){Ge="bearer ".concat(e)},update:function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.put("".concat("/api/entries","/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleted:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Ge}},e.next=3,Ie.a.delete("".concat("/api/entries","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ye=a(137),Ze=a(487),Je=a(348),Re=a(472),He=a(480),We=a(476),ze=a(477),Ve=a(457),Fe=a(346),Qe=a.n(Fe),Xe=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},orange:{color:e.palette.getContrastText(Oe.a[500]),backgroundColor:Oe.a[500]},pagination:{alignItems:"center",textAlign:"center",justifyContent:"center",justifySelf:"center"},paginator:{alignItems:"center",justifyItems:"center"},centerAlignment:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center","& > *":{margin:e.spacing(1)}},centerAlignmentBot:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}},center:{},end:{height:"100%"}}})),Ke=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(d.a)(l,2),h=s[0],j=s[1],x=Object(n.useState)(null),w=Object(d.a)(x,2),I=w[0],S=w[1],O=Object(n.useState)(null),N=Object(d.a)(O,2),C=N[0],k=N[1],D=Object(n.useState)(null),A=Object(d.a)(D,2),L=A[0],P=A[1],M=Object(n.useState)(1),T=Object(d.a)(M,2),G=T[0],B=T[1],Y=Object(n.useState)(5),Z=Object(d.a)(Y,2),J=Z[0],W=Z[1],z=Object(n.useState)(""),V=Object(d.a)(z,2),F=V[0],Q=V[1];Object(n.useEffect)((function(){Be.getAll(G,J,F).then((function(e){return c(e.results)}))}),[G,J,F]);var X=Object(Je.a)({palette:{type:h?"dark":"light"}});Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedBlogAppUser");if(e){var t=JSON.parse(e);P(t),Be.setToken(t.token)}}),[]);var K=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.prev=1,e.next=4,Te.login({username:a,password:n});case 4:r=e.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(r)),Be.setToken(r.token),P(r),k("success"),S("Welcome ".concat(r.name,"!")),setTimeout((function(){S(null)}),5e3),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),k("warning"),S("wrong mail or password"),setTimeout((function(){S(null)}),5e3);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),q=function(e){W(e)},$=Xe();return r.a.createElement(Re.a,{theme:X},r.a.createElement(p.a,null,r.a.createElement(g.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(E.a,{color:"inherit",component:Ye.b,to:"/"},"home"),r.a.createElement(E.a,{color:"inherit",component:Ye.b,to:"/entries"},"entries"),r.a.createElement(E.a,{className:$.loginbtn,color:"inherit",component:Ye.b,to:"/login"},L?r.a.createElement(b.a,{className:$.orange},L.name.substring(0,2)):"login/sign-up"),r.a.createElement(Ve.a,{component:"fieldset"},r.a.createElement(We.a,{"aria-label":"position",row:!0},r.a.createElement(ze.a,{value:"end",control:r.a.createElement(Ze.a,{checked:h,onChange:function(){return j(!h)}}),label:r.a.createElement(Qe.a,null),labelPlacement:"end"}))))),r.a.createElement("div",{className:$.rooted},I&&r.a.createElement(de.a,{variant:"filled",severity:C},r.a.createElement(Ne.a,null,I))),r.a.createElement(U.c,null,r.a.createElement(U.a,{path:"/entries"},L?r.a.createElement("div",{className:$.centerAlignment},r.a.createElement(y.a,{className:$.center,variant:"text",color:"secondary","aria-label":"contained primary button group"},r.a.createElement(E.a,{onClick:function(){return q(5)}},"5"),r.a.createElement(E.a,{onClick:function(){return q(10)}},"10"),r.a.createElement(E.a,{onClick:function(){return q(15)}},"15")),r.a.createElement("form",{className:$.end,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{color:"secondary",id:"Search",label:"Search",value:F,onChange:function(e){return Q(e.target.value)}}))):"",r.a.createElement(ye,{key:L,user:L,entries:a,handleLikes:function(e){var t=a.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{likes:t.likes+1});Be.update(e,n).then((function(){c(a.map((function(t){return t.id!==e?t:n})))}))},handleDeletion:function(e){var t=a.find((function(t){return t.id===e}));window.confirm("Remove ".concat(t.title,"?"))&&Be.deleted(e).then((function(){c(a.filter((function(e){return e!==t})))}))}}),L?r.a.createElement("div",{className:$.centerAlignmentBot},r.a.createElement(He.a,{className:$.paginator,align:"center",count:10,page:G,onChange:function(e,t){B(t)},defaultPage:1})):""),r.a.createElement(U.a,{path:"/login"},r.a.createElement(Me,{user:L,logOut:function(){window.localStorage.removeItem("loggedBlogAppUser"),P(null)},handleLogin:K})),r.a.createElement(U.a,{path:"/"},r.a.createElement(R,{user:L,createEntry:function(e){Be.create(e).then((function(e){c([].concat(Object(o.a)(a),[e])),k("success"),S("New entry ".concat(e.title,"!")),setTimeout((function(){S(null)}),5e3)})).catch((function(e){console.log(e),k("warning"),S(e.response.data.error),setTimeout((function(){S(null)}),5e3)}))}}))),r.a.createElement(H,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ye.a,null,r.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[362,1,2]]]);
//# sourceMappingURL=main.2bbcf21c.chunk.js.map