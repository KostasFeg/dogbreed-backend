(this["webpackJsonpdog-breed"]=this["webpackJsonpdog-breed"]||[]).push([[0],{332:function(e,t,a){e.exports=a.p+"static/media/petadoptionblue.53fbea2c.svg"},354:function(e,t,a){e.exports=a(401)},359:function(e,t,a){},361:function(e,t,a){},369:function(e,t){},370:function(e,t){},378:function(e,t){},381:function(e,t){},382:function(e,t){},401:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(49),l=a.n(c),i=(a(359),a(255)),o=a(20),s=a(5),u=a.n(s),m=a(13),d=a(9),p=(a(361),a(457)),g=a(458),E=a(459),b=a(443),f=a(466),h=a(444),I=a(460),j=function(e){var t=e.createEntry,a=e.file,c=e.results,l=Object(n.useState)(""),i=Object(d.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(""),m=Object(d.a)(u,2),p=m[0],g=m[1],E=Object(n.useState)(""),f=Object(d.a)(E,2),h=f[0],j=f[1];console.log(c);return r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("image",a,a.name),n.append("title",o),n.append("description",p),h?n.append("results",h):n.append("results",JSON.stringify(c)),console.log(n),t(n),s(""),g(""),j("")}},r.a.createElement("div",null,r.a.createElement(I.a,{id:"author",label:"title",type:"author",value:o,name:"Author",onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(I.a,{id:"url",type:"text",label:"description",value:p,name:"Url",onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(I.a,{id:"url",label:"different results? (optional)",type:"text",value:h,name:"Url",onChange:function(e){return j(e.target.value)}})),r.a.createElement(b.a,{id:"submit",type:"submit"},"submit"))},y=a(313),v=a(341),x=a(402),w=a(445),S=a(447),N=a(465),O=a(446),C=a(463),k=a(194),D=a(332),G=a.n(D),M=a(55),P=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"200px"},paperforHero:{marginTop:"15px",padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"30vh"},actionsContainer:{marginBottom:e.spacing(2)},typographyStyle:{marginTop:"3vh",color:"primary"},imageResizing:{width:"200px"},modelImageResize:{width:e.spacing(35),marginTop:"20px"}}})),L={initial:"initial",states:{initial:{on:{next:"loadingModel"}},loadingModel:{on:{next:"awaitingUpload"}},awaitingUpload:{on:{next:"ready"}},ready:{on:{next:"classifying"},showImage:!0},classifying:{on:{next:"complete"}},complete:{on:{next:"awaitingUpload"},showImage:!0,showResults:!0}}},U=function(e,t){return L.states[e].on[t]||L.initial},Z=function(e){var t=e.className,a=e.probability;return r.a.createElement("li",{text:"primary",key:t},"".concat(t,": ").concat((100*a).toFixed(2),"%"))},T=function(e){var t=e.user,a=e.createEntry;v.a("cpu");var c=Object(n.useReducer)(U,L.initial),l=Object(d.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(null),p=Object(d.a)(s,2),g=p[0],E=p[1],f=Object(n.useState)(null),h=Object(d.a)(f,2),I=h[0],D=h[1],T=Object(n.useState)([]),A=Object(d.a)(T,2),B=A[0],J=A[1],Y=Object(n.useState)(0),W=Object(d.a)(Y,2),R=W[0],H=W[1],z=Object(n.useState)(0),V=Object(d.a)(z,2),F=V[0],Q=V[1],X=Object(n.useState)(""),K=Object(d.a)(X,2),$=K[0],q=K[1],_=Object(M.f)(),ee=["Load the model","Insert your image","Let the tool do its job!"],te=Object(n.useRef)(),ae=Object(n.useRef)(),ne=function(){return o("next")},re={initial:{text:"Load Model",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(),H(20),e.next=4,y.a();case 4:t=e.sent,E(t),ne(),H(40);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},loadingModel:{text:"Loading Model...",action:function(){}},awaitingUpload:{text:"Upload Photo",action:function(){return te.current.click()}},ready:{text:"Identify",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(2),ne(),H(80),e.next=5,g.classify(ae.current);case 5:t=e.sent,J(t),ne(),H(100),Q(3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},classifying:{text:"Identifying",action:function(){}},complete:{text:"Reset",action:function(){J([]),D(null),ne(),H(60)}}},ce=L.states[i],le=ce.showImage,ie=void 0!==le&&le,oe=ce.showResults,se=void 0!==oe&&oe,ue=P();return r.a.createElement("div",{className:ue.root},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(x.a,{className:ue.paperforHero},r.a.createElement(k.a,{variant:"h2",className:ue.typographyStyle},"Dog Shelter"),r.a.createElement(k.a,{variant:"h6"},"A better place for strays"),r.a.createElement("img",{className:ue.imageResizing,alt:"dog walking",src:G.a}))),r.a.createElement(w.a,{item:!0,xs:12,sm:4},r.a.createElement(x.a,{className:ue.paper},r.a.createElement(N.a,{activeStep:F,orientation:"vertical"},ee.map((function(e,t){return r.a.createElement(O.a,{key:e},r.a.createElement(C.a,null,e))}))))),r.a.createElement(w.a,{item:!0,xs:12,sm:8},r.a.createElement(x.a,{className:ue.paper},r.a.createElement(S.a,{variant:"determinate",value:R}),r.a.createElement("div",{className:"model-img"},ie&&r.a.createElement("img",{border:1,borderColor:"primary.main",borderRadius:"borderRadius",className:ue.modelImageResize,alt:"preview",src:I,ref:ae})),r.a.createElement("input",{className:"toBeHidden",type:"file",accept:"image/*",capture:"camera",ref:te,onChange:function(e){var t=e.target.files;if(t.length>0){var a=URL.createObjectURL(t[0]);D(a),q(t[0]),ne(),H(60),Q(1)}}}),r.a.createElement("div",{className:"results"},se&&r.a.createElement("ul",null," ",B.map(Z))),r.a.createElement("div",{className:"modelbtn"},r.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:re[i].action},re[i].text),se&&t?r.a.createElement(j,{createEntry:a,file:$,results:B}):r.a.createElement("div",null,r.a.createElement("p",null,"In order to save the results you have to"," ",r.a.createElement(b.a,{onClick:function(){_.push("/login")}},"Login"))))))))},A=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Made with by Kostas Fegoulis"))},B=a(464),J=a(448),Y=a(449),W=a(249),R=a.n(W),H=a(442),z=a(450),V=a(452),F=a(451),Q=a(453),X=a(336),K=a.n(X),$=a(334),q=a.n($),_=a(337),ee=a.n(_),te=a(335),ae=a.n(te),ne=a(333),re=a.n(ne),ce=Object(h.a)((function(e){return{root:{width:"100%",alignItems:"center",justify:"center"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},large:{width:e.spacing(4),height:e.spacing(4)},larger:{width:e.spacing(35),alignItems:"center",justifyItems:"center"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"}}})),le=function(e){var t=e.className,a=e.probability;return r.a.createElement("li",{text:"primary",key:t},"".concat(t,": ").concat((100*a).toFixed(2),"%"))},ie=function(e){var t=e.user,a=e.entry,n=e.handleLikes,c=e.handleDeletion,l=ce();return r.a.createElement(B.a,null,r.a.createElement(J.a,{expandIcon:r.a.createElement(R.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(f.a,{alt:"Image",src:a.photoUrl,className:l.large}),r.a.createElement(k.a,{className:l.heading},a.title)),r.a.createElement(Y.a,null,r.a.createElement("div",{className:l.root},r.a.createElement(w.a,{container:!0,spacing:3},r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{className:l.aligner},r.a.createElement("img",{border:5,borderColor:"primary.main",borderRadius:16,variant:"rounded",alt:"Imageofdog",src:a.photoUrl,className:l.larger}))),r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement(H.a,{component:"nav",className:l.root,"aria-label":"mailbox folders"},r.a.createElement(z.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(q.a,null)),r.a.createElement(V.a,{primary:re()(a.results)?r.a.createElement("ul",null," ",JSON.parse(a.results).map(le)):r.a.createElement("p",null,a.results)})),r.a.createElement(Q.a,null),r.a.createElement(z.a,{button:!0,divider:!0},r.a.createElement(F.a,null,r.a.createElement(ae.a,null)),r.a.createElement(V.a,{primary:a.user.username})),r.a.createElement(z.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(K.a,null)),r.a.createElement(V.a,{primary:a.description})),r.a.createElement(Q.a,{light:!0}),r.a.createElement(z.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(ee.a,null)),r.a.createElement(V.a,{primary:a.likes,secondary:a.createdAt}))),r.a.createElement("p",null),r.a.createElement(b.a,{display:"inline",edge:"end",color:"primary",variant:"contained","aria-label":"delete",onClick:n},"Like"),a.user.username===t.username?r.a.createElement(b.a,{variant:"contained",color:"secondary",id:"delete-button",onClick:c}," ","Delete"):"")))))},oe=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center",backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgNDAsNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMjcpIj48cmVjdCBpZD0icGF0dGVybi1iYWNrZ3JvdW5kIiB3aWR0aD0iNDAwJSIgaGVpZ2h0PSI0MDAlIiBmaWxsPSJyZ2JhKDYzLCA4MSwgMTgxLDEpIj48L3JlY3Q+IDxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSI1IiBjeT0iMzEiIHI9IjEuNSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDIxNCwgMjQsIDI1MSwxKSIgY3g9IjI1IiBjeT0iOSIgcj0iMS41Ij48L2NpcmNsZT48Y2lyY2xlIGZpbGw9InJnYmEoMjE0LCAyNCwgMjUxLDEpIiBjeD0iNSIgY3k9Ii05IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSIyNSIgY3k9IjQ5IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgxMjcsIDExOCwgMTIxLDEpIiBjeD0iMTUiIGN5PSIyMCIgcj0iMi43NSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDEyNywgMTE4LCAxMjEsMSkiIGN4PSIzNSIgY3k9IjIwIiByPSIyLjc1Ij48L2NpcmNsZT48L3BhdHRlcm4+ICA8L2RlZnM+IDxyZWN0IGZpbGw9InVybCgjcGF0dGVybikiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvcmVjdD48L3N2Zz4=")'},loginbtn:{}}})),se=function(e){var t=e.user,a=e.entries,n=e.handleLikes,c=e.handleDeletion,l=Object(M.f)(),i=oe();return t?a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{entry:e,key:e.id,user:t,handleDeletion:function(){return c(e.id)},handleLikes:function(){return n(e.id)}}))})):r.a.createElement("div",{className:i.root},r.a.createElement(w.a,{container:!0,spacing:3},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(x.a,{className:i.paperForEntries},r.a.createElement(k.a,null,"In order to view the entries you have to"," ",r.a.createElement(b.a,{color:"secondary",onClick:function(){l.push("/login")}},"Login"))))))},ue=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],l=a[1],i={display:c?"none":""},o={display:c?"":"none"},s=function(){l(!c)};return r.a.createElement("div",null,r.a.createElement("div",{style:i},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:s},e.buttonLabel)),r.a.createElement("div",{style:o},e.children,r.a.createElement(b.a,{variant:"contained",color:"secondary",onClick:s},"cancel")))},me=function(e){var t=e.handleSubmit,a=e.handleUsernameChange,n=e.handlePasswordChange,c=e.username,l=e.password;return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Log In"),r.a.createElement("div",null,r.a.createElement(I.a,{id:"standard-basic",label:"username",type:"text",value:c,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(I.a,{type:"password",label:"password",value:l,name:"Password",onChange:n})),r.a.createElement(b.a,{id:"login-button",color:"primary",type:"submit"},"login"))},de=function(e){var t=e.handleSubmit,a=e.handleSignUsernameChange,n=e.handleSignPasswordChange,c=e.handleSignNameChange,l=e.handleConfirmPasswordChange,i=e.signUsername,o=e.signName,s=e.signPassword,u=e.confirmPassword;return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Sign-Up"),r.a.createElement("div",null,r.a.createElement(I.a,{id:"standard-basic",label:"username",value:i,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(I.a,{id:"name",type:"text",label:"name",value:o,name:"name",onChange:c})),r.a.createElement("div",null,r.a.createElement(I.a,{type:"password",id:"standard-basic",label:"password",value:s,name:"Password",onChange:n})),r.a.createElement("div",null,r.a.createElement(I.a,{type:"password",id:"standard-basic",label:"confirm password",value:u,name:"Password",onChange:l})),r.a.createElement(b.a,{id:"login-button",type:"submit"},"Sign-Up"))},pe=a(114),ge=a.n(pe),Ee={signUp:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},be=a(454),fe=a(462),he=a(455),Ie=a(340),je=a.n(Ie),ye=a(339),ve=a.n(ye),xe=a(338),we=a.n(xe),Se=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center",backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgNDAsNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMjcpIj48cmVjdCBpZD0icGF0dGVybi1iYWNrZ3JvdW5kIiB3aWR0aD0iNDAwJSIgaGVpZ2h0PSI0MDAlIiBmaWxsPSJyZ2JhKDYzLCA4MSwgMTgxLDEpIj48L3JlY3Q+IDxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSI1IiBjeT0iMzEiIHI9IjEuNSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDIxNCwgMjQsIDI1MSwxKSIgY3g9IjI1IiBjeT0iOSIgcj0iMS41Ij48L2NpcmNsZT48Y2lyY2xlIGZpbGw9InJnYmEoMjE0LCAyNCwgMjUxLDEpIiBjeD0iNSIgY3k9Ii05IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSIyNSIgY3k9IjQ5IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgxMjcsIDExOCwgMTIxLDEpIiBjeD0iMTUiIGN5PSIyMCIgcj0iMi43NSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDEyNywgMTE4LCAxMjEsMSkiIGN4PSIzNSIgY3k9IjIwIiByPSIyLjc1Ij48L2NpcmNsZT48L3BhdHRlcm4+ICA8L2RlZnM+IDxyZWN0IGZpbGw9InVybCgjcGF0dGVybikiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvcmVjdD48L3N2Zz4=")'},orange:{color:e.palette.getContrastText(be.a[500]),backgroundColor:be.a[500]},loginbtn:{}}})),Ne=function(e){var t=e.user,a=e.logOut,c=e.handleLogin,l=Object(n.useState)(!0),i=Object(d.a)(l,2),o=i[0],s=i[1],p=Object(n.useState)(""),g=Object(d.a)(p,2),E=g[0],f=g[1],h=Object(n.useState)(""),I=Object(d.a)(h,2),j=I[0],y=I[1],v=Object(n.useState)(""),S=Object(d.a)(v,2),N=S[0],O=S[1],C=Object(n.useState)(""),D=Object(d.a)(C,2),G=D[0],M=D[1],P=Object(n.useState)(null),L=Object(d.a)(P,2),U=L[0],Z=L[1],T=Object(n.useState)(""),A=Object(d.a)(T,2),W=A[0],X=A[1],K=Object(n.useState)(""),$=Object(d.a)(K,2),q=$[0],_=$[1],ee=function(e){e.preventDefault(),G===N?te():(Z("Password do not match"),setTimeout((function(){Z(null)}),3e3))},te=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.signUp({username:E,name:j,password:N});case 3:Z("New account successfully created!"),setTimeout((function(){Z(null)}),5e3),f(""),O(""),y(""),M(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ae=function(e){e.preventDefault(),c({username:W,password:q})},ne=Se();return t?r.a.createElement(B.a,null,r.a.createElement(J.a,{expandIcon:r.a.createElement(R.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(k.a,{className:ne.heading},t.name,"' profile",r.a.createElement(b.a,{onClick:a},"LogOut"))),r.a.createElement(Y.a,null,r.a.createElement(H.a,{component:"nav",className:ne.root,"aria-label":"mailbox folders"},r.a.createElement(z.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(we.a,null)),r.a.createElement(V.a,{primary:"account created:",secondary:t.date})),r.a.createElement(Q.a,null),r.a.createElement(z.a,{button:!0,divider:!0},r.a.createElement(F.a,null,r.a.createElement(ve.a,null)),r.a.createElement(V.a,{primary:"number of entries",secondary:t.entries.length})),r.a.createElement(z.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(je.a,null)),r.a.createElement(V.a,{primary:"name",secondary:t.username})),r.a.createElement(Q.a,{light:!0}),r.a.createElement(z.a,{button:!0},r.a.createElement(F.a,null),r.a.createElement(V.a,{primary:!0}))))):r.a.createElement("div",{className:ne.root},r.a.createElement(w.a,{container:!0,spacing:3},r.a.createElement(w.a,{item:!0,xs:12,sm:12},r.a.createElement(x.a,{className:ne.paper},r.a.createElement(ue,{buttonLabel:"login"},r.a.createElement(me,{username:W,password:q,handleUsernameChange:function(e){var t=e.target;return X(t.value)},handlePasswordChange:function(e){var t=e.target;return _(t.value)},handleSubmit:ae})),"you dont have an account?",r.a.createElement(b.a,{onClick:function(){s(!o)}},"Sign-Up"))),r.a.createElement(w.a,{item:!0,xs:12,sm:12},U&&r.a.createElement(fe.a,{variant:"filled",severity:"success"},r.a.createElement(he.a,null,U)),o?"":r.a.createElement(x.a,{className:ne.paper},r.a.createElement(ue,{buttonLabel:"signup"},r.a.createElement(de,{signUsername:E,signName:j,signPassword:N,confirmPassword:G,handleSignUsernameChange:function(e){var t=e.target;return f(t.value)},handleSignNameChange:function(e){var t=e.target;return y(t.value)},handleSignPasswordChange:function(e){var t=e.target;return O(t.value)},handleConfirmPasswordChange:function(e){var t=e.target;return M(t.value)},handleSubmit:ee}))))))},Oe={login:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllUsers:function(){return ge.a.get("/api/users").then((function(e){return e.data}))}},Ce=null,ke={getAll:function(e,t){return ge.a.get("/api/entries?page=".concat(e,"&limit=").concat(t)).then((function(e){return e.data}))},create:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Ce}},e.next=3,ge.a.post("/api/entries",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){Ce="bearer ".concat(e)},update:function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.a.put("".concat("/api/entries","/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleted:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Ce}},e.next=3,ge.a.delete("".concat("/api/entries","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},De=a(136),Ge=a(467),Me=a(342),Pe=a(456),Le=a(461),Ue=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},orange:{color:e.palette.getContrastText(be.a[500]),backgroundColor:be.a[500]},pagination:{alignItems:"center",textAlign:"center",justifyContent:"center",justifySelf:"center"},paginator:{alignItems:"center",justifyItems:"center"}}})),Ze=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(d.a)(l,2),h=s[0],I=s[1],j=Object(n.useState)(null),y=Object(d.a)(j,2),v=y[0],x=y[1],w=Object(n.useState)(null),S=Object(d.a)(w,2),N=S[0],O=S[1],C=Object(n.useState)(1),k=Object(d.a)(C,2),D=k[0],G=k[1],P=Object(n.useState)(4),L=Object(d.a)(P,2),U=L[0];L[1];Object(n.useEffect)((function(){ke.getAll(D,U).then((function(e){return c(e.results)}))}),[D,U]);var Z=Object(Me.a)({palette:{type:h?"dark":"light"}});Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedBlogAppUser");if(e){var t=JSON.parse(e);O(t),ke.setToken(t.token)}}),[]);var B=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.prev=1,e.next=4,Oe.login({username:a,password:n});case 4:r=e.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(r)),ke.setToken(r.token),O(r),x("Welcome ".concat(r.name,"!")),setTimeout((function(){x(null)}),5e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),J=Ue();return r.a.createElement(Pe.a,{theme:Z},r.a.createElement(p.a,null,r.a.createElement("div",{className:J.rooted},v&&r.a.createElement(fe.a,{variant:"filled",severity:"success"},r.a.createElement(he.a,null,v))),r.a.createElement(g.a,{position:"static"},r.a.createElement(E.a,null,r.a.createElement(b.a,{color:"inherit",component:De.b,to:"/"},"home"),r.a.createElement(b.a,{color:"inherit",component:De.b,to:"/entries"},"entries"),r.a.createElement(b.a,{className:J.loginbtn,color:"inherit",component:De.b,to:"/login"},N?r.a.createElement(f.a,{className:J.orange},N.name.substring(0,2)):"login/sign-up"),r.a.createElement(Ge.a,{checked:h,onChange:function(){return I(!h)}}))),r.a.createElement(M.c,null,r.a.createElement(M.a,{path:"/entries"},r.a.createElement(se,{user:N,entries:a,handleLikes:function(e){var t=a.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{likes:t.likes+1});ke.update(e,n).then((function(){c(a.map((function(t){return t.id!==e?t:n})))}))},handleDeletion:function(e){var t=a.find((function(t){return t.id===e}));window.confirm("Remove ".concat(t.title,"?"))&&ke.deleted(e).then((function(){c(a.filter((function(e){return e!==t})))}))}}),N?r.a.createElement("div",{className:J.pagination},r.a.createElement(Le.a,{className:J.paginator,align:"center",count:10,page:D,onChange:function(e,t){G(t)},defaultPage:1,color:"primary",size:"large",showFirstButton:!0,showLastButton:!0})):""),r.a.createElement(M.a,{path:"/login"},r.a.createElement(Ne,{user:N,logOut:function(){window.localStorage.removeItem("loggedBlogAppUser"),O(null)},handleLogin:B})),r.a.createElement(M.a,{path:"/"},r.a.createElement(T,{user:N,createEntry:function(e){ke.create(e).then((function(e){c([].concat(Object(o.a)(a),[e])),x("New entry ".concat(e.title,"!")),setTimeout((function(){x(null)}),5e3)})).catch((function(e){console.log(e)}))}}))),r.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(De.a,null,r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[354,1,2]]]);
//# sourceMappingURL=main.ec111737.chunk.js.map