(this["webpackJsonpdog-breed"]=this["webpackJsonpdog-breed"]||[]).push([[0],{332:function(e,t,a){e.exports=a.p+"static/media/petadoptionblue.53fbea2c.svg"},360:function(e,t,a){e.exports=a(407)},365:function(e,t,a){},367:function(e,t,a){},376:function(e,t){},377:function(e,t){},385:function(e,t){},388:function(e,t){},389:function(e,t){},407:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(51),l=a.n(c),i=(a(365),a(254)),o=a(22),s=a(5),u=a.n(s),m=a(13),d=a(9),p=(a(367),a(469)),g=a(470),f=a(471),E=a(409),b=a(479),h=a(451),y=a(472),v=a(473),j=a(312),x=a.n(j),w=Object(h.a)((function(e){return{button:{marginTop:e.spacing(3)}}})),I=function(e){var t=e.createEntry,a=e.file,c=e.results,l=Object(n.useState)(""),i=Object(d.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(""),m=Object(d.a)(u,2),p=m[0],g=m[1],f=Object(n.useState)(""),b=Object(d.a)(f,2),h=b[0],y=b[1],j=Object(n.useState)(""),I=Object(d.a)(j,2),S=I[0],O=I[1],N=w();return r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("image",a,a.name),n.append("title",o),n.append("description",p),n.append("location",S),h?n.append("results",h):n.append("results",JSON.stringify(c)),console.log(n),t(n),s(""),g(""),y(""),O("")}},r.a.createElement("div",null,r.a.createElement(v.a,{id:"title",label:"title",type:"author",value:o,name:"Author",onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"description",type:"text",label:"description",value:p,name:"Url",onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"location",label:"location",type:"text",value:S,name:"Url",onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"url",label:"different results? (optional)",type:"text",value:h,name:"Url",onChange:function(e){return y(e.target.value)}})),r.a.createElement(E.a,{className:N.button,variant:"contained",color:"primary",id:"submit",type:"submit",endIcon:r.a.createElement(x.a,null)},"submit"))},S=a(313),O=a(345),N=a(408),C=a(458),k=a(461),D=a(477),A=a(459),L=a(476),T=a(460),U=a(193),M=a(332),P=a.n(M),G=a(55),B=a(455),Y=a(456),Z=a(457),J=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"200px"},paperforHero:{marginTop:"15px",padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"30vh"},actionsContainer:{marginBottom:e.spacing(2)},typographyStyle:{marginTop:"3vh",color:"primary"},imageResizing:{width:"200px"},modelImageResize:{width:e.spacing(35),marginTop:"20px"},list:{listStyle:"none"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"}}})),R={initial:"initial",states:{initial:{on:{next:"loadingModel"}},loadingModel:{on:{next:"awaitingUpload"}},awaitingUpload:{on:{next:"ready"}},ready:{on:{next:"classifying"},showImage:!0},classifying:{on:{next:"complete"}},complete:{on:{next:"awaitingUpload"},showImage:!0,showResults:!0}}},H=function(e,t){return R.states[e].on[t]||R.initial},W=function(e){var t=e.className,a=e.probability;return r.a.createElement(B.a,{key:t},r.a.createElement(Y.a,{key:t,button:!0,divider:!0},r.a.createElement(Z.a,{key:t,primary:t,secondary:(100*a).toFixed(2)})))},z=function(e){var t=e.user,a=e.createEntry;O.a("cpu");var c=Object(n.useReducer)(H,R.initial),l=Object(d.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(null),p=Object(d.a)(s,2),g=p[0],f=p[1],b=Object(n.useState)(null),h=Object(d.a)(b,2),y=h[0],v=h[1],j=Object(n.useState)([]),x=Object(d.a)(j,2),w=x[0],M=x[1],B=Object(n.useState)(0),Y=Object(d.a)(B,2),Z=Y[0],z=Y[1],V=Object(n.useState)(0),F=Object(d.a)(V,2),Q=F[0],X=F[1],K=Object(n.useState)(""),q=Object(d.a)(K,2),$=q[0],_=q[1],ee=Object(G.f)(),te=["Load the model","Insert your image","Let the tool do its job!"],ae=Object(n.useRef)(),ne=Object(n.useRef)(),re=function(){return o("next")},ce={initial:{text:"Load Model",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(),z(20),e.next=4,S.a();case 4:t=e.sent,f(t),re(),z(40);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},loadingModel:{text:"Loading Model...",action:function(){}},awaitingUpload:{text:"Upload Photo",action:function(){return ae.current.click()}},ready:{text:"Identify",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(2),re(),z(80),e.next=5,g.classify(ne.current);case 5:t=e.sent,M(t),re(),z(100),X(3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},classifying:{text:"Identifying",action:function(){}},complete:{text:"Reset",action:function(){M([]),v(null),re(),z(60)}}},le=R.states[i],ie=le.showImage,oe=void 0!==ie&&ie,se=le.showResults,ue=void 0!==se&&se,me=J();return r.a.createElement("div",{className:me.root},r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(N.a,{className:me.paperforHero},r.a.createElement(U.a,{variant:"h2",className:me.typographyStyle},"Dog Shelter"),r.a.createElement(U.a,{variant:"h6"},"A better place for strays"),r.a.createElement("img",{className:me.imageResizing,alt:"dog walking",src:P.a}))),r.a.createElement(C.a,{item:!0,xs:12,sm:4},r.a.createElement(N.a,{className:me.paper},r.a.createElement(D.a,{activeStep:Q,orientation:"vertical"},te.map((function(e,t){return r.a.createElement(A.a,{key:e},r.a.createElement(L.a,null,e),r.a.createElement(T.a,null,["The model is needed to identify","You can even use your phone camera!","Get the results and even save them"]))}))))),r.a.createElement(C.a,{item:!0,xs:12,sm:8},r.a.createElement(N.a,{className:me.paper},r.a.createElement(k.a,{variant:"determinate",value:Z}),r.a.createElement("div",{className:"model-img"},oe&&r.a.createElement("img",{border:1,className:me.modelImageResize,alt:"preview",src:y,ref:ne})),r.a.createElement("input",{className:"toBeHidden",type:"file",accept:"image/*",capture:"camera",ref:ae,onChange:function(e){var t=e.target.files;if(t.length>0){var a=URL.createObjectURL(t[0]);v(a),_(t[0]),re(),z(60),X(1)}}}),r.a.createElement("div",{className:me.aligner},ue&&w.map(W)),r.a.createElement("div",{className:"modelbtn"},r.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:ce[i].action},ce[i].text),ue&&t?r.a.createElement(I,{createEntry:a,file:$,results:w}):""),t?"":r.a.createElement("div",null,r.a.createElement("p",null,"In order to save the results you have to"," ",r.a.createElement(E.a,{onClick:function(){ee.push("/login")}},"Login")))))))},V=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Made with by Kostas Fegoulis"))},F=a(478),Q=a(462),X=a(463),K=a(249),q=a.n(K),$=a(464),_=a(465),ee=a(337),te=a.n(ee),ae=a(335),ne=a.n(ae),re=a(339),ce=a.n(re),le=a(336),ie=a.n(le),oe=a(338),se=a.n(oe),ue=a(333),me=a.n(ue),de=a(480),pe=a(334),ge=a.n(pe),fe=a(475),Ee=a(177),be=a.n(Ee);be.a.extend(ge.a);var he=Object(h.a)((function(e){return{root:{width:"100%",alignItems:"center",justify:"center"},heading:{fontSize:e.typography.pxToRem(16),fontWeight:e.typography.fontWeightRegular,align:"right"},large:{width:e.spacing(4),height:e.spacing(4)},larger:{width:e.spacing(38),alignSelf:"center",alignItems:"center",justifyItems:"center",marginBottom:"60px"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"},alignerImg:{display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"},invisible:{opacity:"0",overflow:"hidden",transform:"scale(0)"},margin:{margin:"5px"},flexSummary:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}})),ye=function(e){var t=e.className,a=e.probability;return r.a.createElement("li",{text:"primary",key:t},"".concat(t,": ").concat((100*a).toFixed(2),"%"))},ve=function(e){var t=e.user,a=e.entry,c=e.handleLikes,l=e.handleDeletion,i=Object(n.useState)(""),o=Object(d.a)(i,2),s=o[0],u=o[1],m=he(),p=Object(n.useRef)(null);return r.a.createElement(F.a,{className:m.margin},r.a.createElement(Q.a,{expandIcon:r.a.createElement(q.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement("div",{className:m.flexSummary},r.a.createElement(b.a,{alt:"Image",src:a.photoUrl,className:m.large}),r.a.createElement(U.a,{className:m.heading},a.title),r.a.createElement(de.a,{size:"small",color:a.user.username===t.username?"secondary":"primary",variant:"outlined",label:be()(a.createdAt).fromNow()}))),r.a.createElement(X.a,null,r.a.createElement("div",{className:m.root},r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,sm:6,className:m.alignerImg},r.a.createElement("div",{className:m.aligner},r.a.createElement("img",{border:5,variant:"rounded",alt:"Imageofdog",src:a.photoUrl,className:m.larger}))),r.a.createElement(C.a,{item:!0,xs:12,sm:6},s?r.a.createElement(fe.a,{severity:"info"},s):"",r.a.createElement(B.a,{component:"nav",className:m.root,"aria-label":"mailbox folders"},r.a.createElement(Y.a,{button:!0},r.a.createElement($.a,null,r.a.createElement(ne.a,null)),r.a.createElement(Z.a,{primary:me()(a.results)?r.a.createElement("ul",null," ",JSON.parse(a.results).map(ye)):r.a.createElement("p",null,a.results)})),r.a.createElement(_.a,null),r.a.createElement(Y.a,{button:!0,onClick:function(e){p.current.select(),document.execCommand("copy"),u("".concat(a.user.username," is copied to clipboard!")),setTimeout((function(){u("")}),2e3),e.target.focus()},divider:!0},r.a.createElement($.a,null,r.a.createElement(ie.a,null)),r.a.createElement(Z.a,{ref:p,primary:a.user.username,value:a.user.username,secondary:a.user.name})),r.a.createElement(Y.a,{button:!0},r.a.createElement($.a,null,r.a.createElement(te.a,null)),r.a.createElement(Z.a,{primary:a.description})),r.a.createElement(_.a,{light:!0}),r.a.createElement(Y.a,{button:!0},r.a.createElement($.a,null,r.a.createElement(se.a,null)),r.a.createElement(Z.a,{primary:a.location})),r.a.createElement(_.a,{light:!0}),r.a.createElement(Y.a,{button:!0},r.a.createElement($.a,null,r.a.createElement(ce.a,null)),r.a.createElement(Z.a,{primary:a.likes,secondary:be()(a.createdAt).format("DD/MM/YYYY  HH:mm:ss")}))),r.a.createElement(E.a,{display:"inline",edge:"end",color:"primary",variant:"contained","aria-label":"delete",onClick:c},"Like"),a.user.username===t.username?r.a.createElement(E.a,{variant:"contained",color:"secondary",id:"delete-button",onClick:l}," ","Delete"):"",r.a.createElement("input",{readOnly:!0,className:m.invisible,value:a.user.username,ref:p}))))))},je=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center"},loginbtn:{}}})),xe=function(e){var t=e.user,a=e.entries,n=e.handleLikes,c=e.handleDeletion,l=Object(G.f)(),i=je();return t?a.map((function(e){return r.a.createElement(ve,{entry:e,key:e.id,user:t,handleDeletion:function(){return c(e.id)},handleLikes:function(){return n(e.id)}})})):r.a.createElement("div",{className:i.root},r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(N.a,{className:i.paperForEntries},r.a.createElement(U.a,null,"In order to view the entries you have to"," ",r.a.createElement(E.a,{color:"secondary",onClick:function(){l.push("/login")}},"Login"))))))},we=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],l=a[1],i={display:c?"none":""},o={display:c?"":"none"},s=function(){l(!c)};return r.a.createElement("div",null,r.a.createElement("div",{style:i},r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:s},e.buttonLabel)),r.a.createElement("div",{style:o},e.children,r.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:s},"cancel")))},Ie=function(e){var t=e.handleSubmit,a=e.handleUsernameChange,n=e.handlePasswordChange,c=e.username,l=e.password;return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Log In"),r.a.createElement("div",null,r.a.createElement(v.a,{id:"standard-basic",label:"email",type:"text",value:c,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",label:"password",value:l,name:"Password",onChange:n})),r.a.createElement(E.a,{id:"login-button",color:"primary",type:"submit"},"login"))},Se=function(e){var t=e.handleSubmit,a=e.handleSignUsernameChange,n=e.handleSignPasswordChange,c=e.handleSignNameChange,l=e.handleConfirmPasswordChange,i=e.signUsername,o=e.signName,s=e.signPassword,u=e.confirmPassword;return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Sign-Up"),r.a.createElement("div",null,r.a.createElement(v.a,{id:"mail",type:"email",label:"email",value:i,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"name",type:"text",label:"name",value:o,name:"name",onChange:c})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",id:"password",label:"password",value:s,name:"Password",onChange:n})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",id:"confirmpass",label:"confirm password",value:u,name:"Password",onChange:l})),r.a.createElement(E.a,{id:"login-button",type:"submit"},"Sign-Up"))},Oe=a(117),Ne=a.n(Oe),Ce={signUp:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ke=a(466),De=a(467),Ae=a(342),Le=a.n(Ae),Te=a(341),Ue=a.n(Te),Me=a(340),Pe=a.n(Me),Ge=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center",backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgNDAsNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMjcpIj48cmVjdCBpZD0icGF0dGVybi1iYWNrZ3JvdW5kIiB3aWR0aD0iNDAwJSIgaGVpZ2h0PSI0MDAlIiBmaWxsPSJyZ2JhKDYzLCA4MSwgMTgxLDEpIj48L3JlY3Q+IDxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSI1IiBjeT0iMzEiIHI9IjEuNSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDIxNCwgMjQsIDI1MSwxKSIgY3g9IjI1IiBjeT0iOSIgcj0iMS41Ij48L2NpcmNsZT48Y2lyY2xlIGZpbGw9InJnYmEoMjE0LCAyNCwgMjUxLDEpIiBjeD0iNSIgY3k9Ii05IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSIyNSIgY3k9IjQ5IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgxMjcsIDExOCwgMTIxLDEpIiBjeD0iMTUiIGN5PSIyMCIgcj0iMi43NSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDEyNywgMTE4LCAxMjEsMSkiIGN4PSIzNSIgY3k9IjIwIiByPSIyLjc1Ij48L2NpcmNsZT48L3BhdHRlcm4+ICA8L2RlZnM+IDxyZWN0IGZpbGw9InVybCgjcGF0dGVybikiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvcmVjdD48L3N2Zz4=")'},orange:{color:e.palette.getContrastText(ke.a[500]),backgroundColor:ke.a[500]},loginbtn:{},margin:{marginTop:"10px"}}})),Be=function(e){var t=e.user,a=e.logOut,c=e.handleLogin,l=Object(n.useState)(!0),i=Object(d.a)(l,2),o=i[0],s=i[1],p=Object(n.useState)(""),g=Object(d.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),y=Object(d.a)(h,2),v=y[0],j=y[1],x=Object(n.useState)(""),w=Object(d.a)(x,2),I=w[0],S=w[1],O=Object(n.useState)(""),k=Object(d.a)(O,2),D=k[0],A=k[1],L=Object(n.useState)(null),T=Object(d.a)(L,2),M=T[0],P=T[1],G=Object(n.useState)(null),J=Object(d.a)(G,2),R=J[0],H=J[1],W=Object(n.useState)(""),z=Object(d.a)(W,2),V=z[0],K=z[1],ee=Object(n.useState)(""),te=Object(d.a)(ee,2),ae=te[0],ne=te[1],re=function(e){e.preventDefault(),D===I?ce():(H("warning"),P("Passwords do not match"),setTimeout((function(){P(null)}),3e3))},ce=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce.signUp({username:f,name:v,password:I});case 3:P("New account successfully created!"),setTimeout((function(){P(null)}),5e3),b(""),S(""),j(""),A(""),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),H("warning"),P(e.t0.response.data.error),setTimeout((function(){P(null)}),5e3),console.log(e.t0.response.data.error);case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),le=function(e){e.preventDefault(),c({username:V,password:ae})},ie=Ge();return t?r.a.createElement(F.a,{className:ie.margin},r.a.createElement(Q.a,{expandIcon:r.a.createElement(q.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(U.a,{className:ie.heading},t.name,"' profile",r.a.createElement(E.a,{onClick:a},"LogOut"))),r.a.createElement(X.a,null,r.a.createElement(B.a,{component:"nav",className:ie.root,"aria-label":"mailbox folders"},r.a.createElement(Y.a,{button:!0},r.a.createElement($.a,null,r.a.createElement(Pe.a,null)),r.a.createElement(Z.a,{primary:"account created:",secondary:be()(t.date).format("DD/MM/YYYY  HH:mm:ss")})),r.a.createElement(_.a,null),r.a.createElement(Y.a,{button:!0,divider:!0},r.a.createElement($.a,null,r.a.createElement(Ue.a,null)),r.a.createElement(Z.a,{primary:"number of entries",secondary:t.entries.length})),r.a.createElement(Y.a,{button:!0},r.a.createElement($.a,null,r.a.createElement(Le.a,null)),r.a.createElement(Z.a,{primary:"name",secondary:t.username})),r.a.createElement(_.a,{light:!0}),r.a.createElement(Y.a,{button:!0},r.a.createElement($.a,null),r.a.createElement(Z.a,null))))):r.a.createElement("div",{className:ie.root},r.a.createElement(C.a,{className:ie.margin,container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,sm:12},r.a.createElement(N.a,{className:ie.paper},r.a.createElement(we,{buttonLabel:"login"},r.a.createElement(Ie,{username:V,password:ae,handleUsernameChange:function(e){var t=e.target;return K(t.value)},handlePasswordChange:function(e){var t=e.target;return ne(t.value)},handleSubmit:le})),"you dont have an account?",r.a.createElement(E.a,{onClick:function(){s(!o)}},"Sign-Up"))),r.a.createElement(C.a,{item:!0,xs:12,sm:12},M&&r.a.createElement(fe.a,{variant:"filled",severity:R},r.a.createElement(De.a,null,M)),o?"":r.a.createElement(N.a,{className:ie.paper},r.a.createElement(we,{buttonLabel:"signup"},r.a.createElement(Se,{signUsername:f,signName:v,signPassword:I,confirmPassword:D,handleSignUsernameChange:function(e){var t=e.target;return b(t.value)},handleSignNameChange:function(e){var t=e.target;return j(t.value)},handleSignPasswordChange:function(e){var t=e.target;return S(t.value)},handleConfirmPasswordChange:function(e){var t=e.target;return A(t.value)},handleSubmit:re}))))))},Ye={login:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllUsers:function(){return Ne.a.get("/api/users").then((function(e){return e.data}))}},Ze=null,Je={getAll:function(e,t,a){return Ne.a.get("/api/entries?page=".concat(e,"&limit=").concat(t,"&query=").concat(a)).then((function(e){return e.data}))},create:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Ze}},e.next=3,Ne.a.post("/api/entries",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){Ze="bearer ".concat(e)},update:function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.a.put("".concat("/api/entries","/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleted:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Ze}},e.next=3,Ne.a.delete("".concat("/api/entries","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Re=a(136),He=a(346),We=a(468),ze=a(474),Ve=a(411),Fe=a(343),Qe=a.n(Fe),Xe=a(344),Ke=a.n(Xe),qe=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},orange:{color:e.palette.getContrastText(ke.a[500]),backgroundColor:ke.a[500]},pagination:{alignItems:"center",textAlign:"center",justifyContent:"center",justifySelf:"center"},paginator:{alignItems:"center",justifyItems:"center"},centerAlignment:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center","& > *":{margin:e.spacing(1)}},centerAlignmentBot:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}},center:{},end:{height:"100%"},toolbarSettings:{display:"flex",justifyContent:"space-evenly"},flexstart:{}}})),$e=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(d.a)(l,2),h=s[0],j=s[1],x=Object(n.useState)(null),w=Object(d.a)(x,2),I=w[0],S=w[1],O=Object(n.useState)(null),N=Object(d.a)(O,2),C=N[0],k=N[1],D=Object(n.useState)(null),A=Object(d.a)(D,2),L=A[0],T=A[1],U=Object(n.useState)(1),M=Object(d.a)(U,2),P=M[0],B=M[1],Y=Object(n.useState)(5),Z=Object(d.a)(Y,2),J=Z[0],R=Z[1],H=Object(n.useState)(""),W=Object(d.a)(H,2),F=W[0],Q=W[1],X=h?r.a.createElement(Ke.a,null):r.a.createElement(Qe.a,null);Object(n.useEffect)((function(){Je.getAll(P,J,F).then((function(e){return c(e.results)}))}),[P,J,F]);var K=Object(He.a)({palette:{type:h?"dark":"light"}});Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedBlogAppUser");if(e){var t=JSON.parse(e);T(t),Je.setToken(t.token)}}),[]);var q=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.prev=1,e.next=4,Ye.login({username:a,password:n});case 4:r=e.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(r)),Je.setToken(r.token),T(r),k("success"),S("Welcome ".concat(r.name,"!")),setTimeout((function(){S(null)}),5e3),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),k("warning"),S("wrong mail or password"),setTimeout((function(){S(null)}),5e3);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){R(e)},_=qe();return r.a.createElement(We.a,{theme:K},r.a.createElement(p.a,null,r.a.createElement(g.a,{position:"static"},r.a.createElement(f.a,{className:_.toolbarSettings},r.a.createElement(E.a,{color:"inherit",component:Re.b,to:"/"},"home"),r.a.createElement(E.a,{color:"inherit",component:Re.b,to:"/entries"},"entries"),r.a.createElement(E.a,{className:_.loginbtn,color:"inherit",component:Re.b,to:"/login"},L?r.a.createElement(b.a,{className:_.orange},L.name.substring(0,2)):"login/sign-up"),r.a.createElement(Ve.a,{edge:"end",color:"inherit","aria-label":"mode",onClick:function(){return j(!h)}},X))),r.a.createElement("div",{className:_.rooted},I&&r.a.createElement(fe.a,{variant:"filled",severity:C},r.a.createElement(De.a,null,I))),r.a.createElement(G.c,null,r.a.createElement(G.a,{path:"/entries"},L?r.a.createElement("div",{className:_.centerAlignment},r.a.createElement(y.a,{className:_.center,variant:"text",color:"secondary","aria-label":"contained primary button group"},r.a.createElement(E.a,{onClick:function(){return $(5)}},"5"),r.a.createElement(E.a,{onClick:function(){return $(10)}},"10"),r.a.createElement(E.a,{onClick:function(){return $(15)}},"15")),r.a.createElement("form",{className:_.end,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{color:"secondary",id:"Search",label:"Search",value:F,onChange:function(e){return Q(e.target.value)}}))):"",r.a.createElement(xe,{key:L,user:L,entries:a,handleLikes:function(e){var t=a.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{likes:t.likes+1});Je.update(e,n).then((function(){c(a.map((function(t){return t.id!==e?t:n})))}))},handleDeletion:function(e){var t=a.find((function(t){return t.id===e}));window.confirm("Remove ".concat(t.title,"?"))&&Je.deleted(e).then((function(){c(a.filter((function(e){return e!==t})))}))}}),L?r.a.createElement("div",{className:_.centerAlignmentBot},r.a.createElement(ze.a,{className:_.paginator,align:"center",count:10,page:P,onChange:function(e,t){B(t)},defaultPage:1})):""),r.a.createElement(G.a,{path:"/login"},r.a.createElement(Be,{user:L,logOut:function(){window.localStorage.removeItem("loggedBlogAppUser"),T(null)},handleLogin:q})),r.a.createElement(G.a,{path:"/"},r.a.createElement(z,{user:L,createEntry:function(e){Je.create(e).then((function(e){c([].concat(Object(o.a)(a),[e])),k("success"),S("New entry ".concat(e.title,"!")),setTimeout((function(){S(null)}),5e3)})).catch((function(e){console.log(e),k("warning"),S(e.response.data.error),setTimeout((function(){S(null)}),5e3)}))}}))),r.a.createElement(V,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Re.a,null,r.a.createElement($e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[360,1,2]]]);
//# sourceMappingURL=main.752b0a8c.chunk.js.map