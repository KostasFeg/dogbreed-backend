(this["webpackJsonpdog-breed"]=this["webpackJsonpdog-breed"]||[]).push([[0],{334:function(e,t,a){e.exports=a.p+"static/media/dogwalk2.3be2bb4e.svg"},335:function(e,t,a){e.exports=a.p+"static/media/petadoption.eb67e39f.svg"},336:function(e,t,a){e.exports=a.p+"static/media/dogwalking.d4a57f0a.svg"},365:function(e,t,a){e.exports=a(412)},370:function(e,t,a){},372:function(e,t,a){},381:function(e,t){},382:function(e,t){},390:function(e,t){},393:function(e,t){},394:function(e,t){},412:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(51),l=a.n(c),i=(a(370),a(257)),o=a(22),s=a(5),u=a.n(s),m=a(13),d=a(9),p=(a(372),a(475)),g=a(476),f=a(477),E=a(414),b=a(487),h=a(457),y=a(478),v=a(480),j=a(314),x=a.n(j),w=Object(h.a)((function(e){return{button:{marginTop:e.spacing(3)}}})),I=function(e){var t=e.createEntry,a=e.file,c=e.results,l=Object(n.useState)(""),i=Object(d.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(""),m=Object(d.a)(u,2),p=m[0],g=m[1],f=Object(n.useState)(""),b=Object(d.a)(f,2),h=b[0],y=b[1],j=Object(n.useState)(""),I=Object(d.a)(j,2),S=I[0],O=I[1],N=w();return r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("image",a,a.name),n.append("title",o),n.append("description",p),n.append("location",S),h?n.append("results",h):n.append("results",JSON.stringify(c)),console.log(n),t(n),s(""),g(""),y(""),O("")}},r.a.createElement("div",null,r.a.createElement(v.a,{id:"title",label:"title",type:"author",value:o,name:"Author",onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"description",type:"text",label:"description",value:p,name:"Url",onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"location",label:"location",type:"text",value:S,name:"Url",onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"url",label:"different results? (optional)",type:"text",value:h,name:"Url",onChange:function(e){return y(e.target.value)}})),r.a.createElement(E.a,{className:N.button,variant:"contained",color:"primary",id:"submit",type:"submit",endIcon:r.a.createElement(x.a,null)},"submit"))},S=a(315),O=a(349),N=a(413),C=a(464),k=a(467),D=a(485),T=a(465),M=a(484),U=a(466),A=a(182),P=a(334),L=a.n(P),G=a(335),B=a.n(G),Y=a(336),Z=a.n(Y),J=a(55),R=a(461),H=a(462),W=a(463),z=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"200px"},paperforHero:{marginTop:"10px",padding:e.spacing(6),textAlign:"center",color:e.palette.text.secondary,minHeight:"30vh"},actionsContainer:{marginBottom:e.spacing(2)},typographyStyle:{marginTop:"3vh",color:"primary"},imageResizing:{width:"280px"},modelImageResize:{width:e.spacing(35),marginTop:"20px"},list:{listStyle:"none"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"}}})),V=[L.a,Z.a,B.a],F=V[Math.floor(Math.random()*V.length)],Q={initial:"initial",states:{initial:{on:{next:"loadingModel"}},loadingModel:{on:{next:"awaitingUpload"}},awaitingUpload:{on:{next:"ready"}},ready:{on:{next:"classifying"},showImage:!0},classifying:{on:{next:"complete"}},complete:{on:{next:"awaitingUpload"},showImage:!0,showResults:!0}}},X=function(e,t){return Q.states[e].on[t]||Q.initial},K=function(e){var t=e.className,a=e.probability;return r.a.createElement(R.a,{key:t},r.a.createElement(H.a,{key:t,button:!0,divider:!0},r.a.createElement(W.a,{key:t,primary:t,secondary:(100*a).toFixed(2)})))},q=function(e){var t=e.user,a=e.createEntry;O.a("cpu");var c=Object(n.useReducer)(X,Q.initial),l=Object(d.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(null),p=Object(d.a)(s,2),g=p[0],f=p[1],b=Object(n.useState)(null),h=Object(d.a)(b,2),y=h[0],v=h[1],j=Object(n.useState)([]),x=Object(d.a)(j,2),w=x[0],P=x[1],L=Object(n.useState)(0),G=Object(d.a)(L,2),B=G[0],Y=G[1],Z=Object(n.useState)(0),R=Object(d.a)(Z,2),H=R[0],W=R[1],V=Object(n.useState)(""),q=Object(d.a)(V,2),$=q[0],_=q[1],ee=Object(J.f)(),te=["Load the model","Insert your image","Let the tool do its job!"],ae=Object(n.useRef)(),ne=Object(n.useRef)(),re=function(){return o("next")},ce={initial:{text:"Load Model",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(),Y(20),e.next=4,S.a();case 4:t=e.sent,f(t),re(),Y(40);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},loadingModel:{text:"Loading Model...",action:function(){}},awaitingUpload:{text:"Upload Photo",action:function(){return ae.current.click()}},ready:{text:"Identify",action:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(2),re(),Y(80),e.next=5,g.classify(ne.current);case 5:t=e.sent,P(t),re(),Y(100),W(3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},classifying:{text:"Identifying",action:function(){}},complete:{text:"Reset",action:function(){P([]),v(null),re(),Y(60)}}},le=Q.states[i],ie=le.showImage,oe=void 0!==ie&&ie,se=le.showResults,ue=void 0!==se&&se,me=z();return r.a.createElement("div",{className:me.root},r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(N.a,{className:me.paperforHero},r.a.createElement(A.a,{variant:"h2",className:me.typographyStyle},"Dog Shelter"),r.a.createElement(A.a,{variant:"h6"},"A better place for strays"),r.a.createElement("img",{className:me.imageResizing,alt:"dog walking",src:F}))),r.a.createElement(C.a,{item:!0,xs:12,sm:4},r.a.createElement(N.a,{className:me.paper},r.a.createElement(D.a,{activeStep:H,orientation:"vertical"},te.map((function(e,t){return r.a.createElement(T.a,{key:e},r.a.createElement(M.a,null,e),r.a.createElement(U.a,null,["The model is needed to identify","You can even use your phone camera!","Get the results and even save them"]))}))))),r.a.createElement(C.a,{item:!0,xs:12,sm:8},r.a.createElement(N.a,{className:me.paper},r.a.createElement(k.a,{variant:"determinate",value:B}),r.a.createElement("div",{className:"model-img"},oe&&r.a.createElement("img",{border:1,className:me.modelImageResize,alt:"preview",src:y,ref:ne})),r.a.createElement("input",{className:"toBeHidden",type:"file",accept:"image/*",capture:"camera",ref:ae,onChange:function(e){var t=e.target.files;if(t.length>0){var a=URL.createObjectURL(t[0]);v(a),_(t[0]),re(),Y(60),W(1)}}}),r.a.createElement("div",{className:me.aligner},ue&&w.map(K)),r.a.createElement("div",{className:"modelbtn"},r.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:ce[i].action},ce[i].text),ue&&t?r.a.createElement(I,{createEntry:a,file:$,results:w}):""),t?"":r.a.createElement("div",null,r.a.createElement("p",null,"In order to save the results you have to"," ",r.a.createElement(E.a,{color:"primary",onClick:function(){ee.push("/login")}},"Login")))))))},$=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Made with by Kostas Fegoulis"))},_=a(486),ee=a(468),te=a(469),ae=a(250),ne=a.n(ae),re=a(470),ce=a(471),le=a(341),ie=a.n(le),oe=a(339),se=a.n(oe),ue=a(343),me=a.n(ue),de=a(340),pe=a.n(de),ge=a(342),fe=a.n(ge),Ee=a(337),be=a.n(Ee),he=a(488),ye=a(338),ve=a.n(ye),je=a(482),xe=a(181),we=a.n(xe);we.a.extend(ve.a);var Ie=Object(h.a)((function(e){return{root:{width:"100%",alignItems:"center",justify:"center"},heading:{fontSize:e.typography.pxToRem(16),fontWeight:e.typography.fontWeightRegular,align:"right"},large:{width:e.spacing(4),height:e.spacing(4)},larger:{width:e.spacing(38),alignSelf:"center",alignItems:"center",justifyItems:"center",marginBottom:"60px"},aligner:{textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"},alignerImg:{display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",justifySelf:"center"},invisible:{opacity:"0",overflow:"hidden",transform:"scale(0)"},margin:{margin:"5px"},flexSummary:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}})),Se=function(e){var t=e.className,a=e.probability;return r.a.createElement("li",{text:"primary",key:t},"".concat(t,": ").concat((100*a).toFixed(2),"%"))},Oe=function(e){var t=e.user,a=e.entry,c=e.handleLikes,l=e.handleDeletion,i=Object(n.useState)(""),o=Object(d.a)(i,2),s=o[0],u=o[1],m=Ie(),p=Object(n.useRef)(null);return r.a.createElement(_.a,{className:m.margin},r.a.createElement(ee.a,{expandIcon:r.a.createElement(ne.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement("div",{className:m.flexSummary},r.a.createElement(b.a,{alt:"Image",src:a.photoUrl,className:m.large}),r.a.createElement(A.a,{className:m.heading},a.title),r.a.createElement(he.a,{size:"small",color:a.user.username===t.username?"secondary":"primary",variant:"outlined",label:we()(a.createdAt).fromNow()}))),r.a.createElement(te.a,null,r.a.createElement("div",{className:m.root},r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,sm:6,className:m.alignerImg},r.a.createElement("div",{className:m.aligner},r.a.createElement("img",{border:5,variant:"rounded",alt:"Imageofdog",src:a.photoUrl,className:m.larger}))),r.a.createElement(C.a,{item:!0,xs:12,sm:6},s?r.a.createElement(je.a,{severity:"info"},s):"",r.a.createElement(R.a,{component:"nav",className:m.root,"aria-label":"mailbox folders"},r.a.createElement(H.a,{button:!0},r.a.createElement(re.a,null,r.a.createElement(se.a,null)),r.a.createElement(W.a,{primary:be()(a.results)?r.a.createElement("ul",null," ",JSON.parse(a.results).map(Se)):r.a.createElement("p",null,a.results)})),r.a.createElement(ce.a,null),r.a.createElement(H.a,{button:!0,onClick:function(e){p.current.select(),document.execCommand("copy"),u("".concat(a.user.username," is copied to clipboard!")),setTimeout((function(){u("")}),2e3),e.target.focus()},divider:!0},r.a.createElement(re.a,null,r.a.createElement(pe.a,null)),r.a.createElement(W.a,{ref:p,primary:a.user.username,value:a.user.username,secondary:a.user.name})),r.a.createElement(H.a,{button:!0},r.a.createElement(re.a,null,r.a.createElement(ie.a,null)),r.a.createElement(W.a,{primary:a.description})),r.a.createElement(ce.a,{light:!0}),r.a.createElement(H.a,{button:!0},r.a.createElement(re.a,null,r.a.createElement(fe.a,null)),r.a.createElement(W.a,{primary:a.location})),r.a.createElement(ce.a,{light:!0}),r.a.createElement(H.a,{button:!0},r.a.createElement(re.a,null,r.a.createElement(me.a,null)),r.a.createElement(W.a,{primary:a.likes,secondary:we()(a.createdAt).format("DD/MM/YYYY  HH:mm:ss")}))),r.a.createElement(E.a,{display:"inline",edge:"end",color:"primary",variant:"contained","aria-label":"delete",onClick:c},"Like"),a.user.username===t.username?r.a.createElement(E.a,{variant:"contained",color:"secondary",id:"delete-button",onClick:l}," ","Delete"):"",r.a.createElement("input",{readOnly:!0,className:m.invisible,value:a.user.username,ref:p}))))))},Ne=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center"},loginbtn:{}}})),Ce=function(e){var t=e.user,a=e.entries,n=e.handleLikes,c=e.handleDeletion,l=Object(J.f)(),i=Ne();return t?a.map((function(e){return r.a.createElement(Oe,{entry:e,key:e.id,user:t,handleDeletion:function(){return c(e.id)},handleLikes:function(){return n(e.id)}})})):r.a.createElement("div",{className:i.root},r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(N.a,{className:i.paperForEntries},r.a.createElement(A.a,null,"In order to view the entries you have to"," ",r.a.createElement(E.a,{color:"secondary",onClick:function(){l.push("/login")}},"Login"))))))},ke=Object(h.a)((function(e){return{button:{marginTop:e.spacing(2)}}})),De=function(e){var t=e.handleSubmit,a=e.handleUsernameChange,n=e.handlePasswordChange,c=e.username,l=e.password,i=ke();return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Log In"),r.a.createElement("div",null,r.a.createElement(v.a,{id:"standard-basic",label:"email",type:"text",value:c,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",label:"password",value:l,name:"Password",onChange:n})),r.a.createElement(E.a,{className:i.button,variant:"contained",color:"primary",id:"login-button",type:"submit"},"login"))},Te=Object(h.a)((function(e){return{button:{marginTop:e.spacing(2)}}})),Me=function(e){var t=e.handleSubmit,a=e.handleSignUsernameChange,n=e.handleSignPasswordChange,c=e.handleSignNameChange,l=e.handleConfirmPasswordChange,i=e.signUsername,o=e.signName,s=e.signPassword,u=e.confirmPassword,m=Te();return r.a.createElement("form",{onSubmit:t},r.a.createElement("h1",null,"Sign-Up"),r.a.createElement("div",null,r.a.createElement(v.a,{id:"mail",type:"email",label:"email",value:i,name:"Username",onChange:a})),r.a.createElement("div",null,r.a.createElement(v.a,{id:"name",type:"text",label:"name",value:o,name:"name",onChange:c})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",id:"password",label:"password",value:s,name:"Password",onChange:n})),r.a.createElement("div",null,r.a.createElement(v.a,{type:"password",id:"confirmpass",label:"confirm password",value:u,name:"Password",onChange:l})),r.a.createElement(E.a,{className:m.button,variant:"contained",color:"secondary",id:"login-button",type:"submit"},"Sign-Up"))},Ue=a(118),Ae=a.n(Ue),Pe={signUp:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Le=a(472),Ge=a(473),Be=a(346),Ye=a.n(Be),Ze=a(345),Je=a.n(Ze),Re=a(344),He=a.n(Re),We=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:"10px"}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paperForEntries:{marginTop:"10px",padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:"300px",justifyContent:"center",alignItems:"center",backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgNDAsNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMjcpIj48cmVjdCBpZD0icGF0dGVybi1iYWNrZ3JvdW5kIiB3aWR0aD0iNDAwJSIgaGVpZ2h0PSI0MDAlIiBmaWxsPSJyZ2JhKDYzLCA4MSwgMTgxLDEpIj48L3JlY3Q+IDxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSI1IiBjeT0iMzEiIHI9IjEuNSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDIxNCwgMjQsIDI1MSwxKSIgY3g9IjI1IiBjeT0iOSIgcj0iMS41Ij48L2NpcmNsZT48Y2lyY2xlIGZpbGw9InJnYmEoMjE0LCAyNCwgMjUxLDEpIiBjeD0iNSIgY3k9Ii05IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgyMTQsIDI0LCAyNTEsMSkiIGN4PSIyNSIgY3k9IjQ5IiByPSIxLjUiPjwvY2lyY2xlPjxjaXJjbGUgZmlsbD0icmdiYSgxMjcsIDExOCwgMTIxLDEpIiBjeD0iMTUiIGN5PSIyMCIgcj0iMi43NSI+PC9jaXJjbGU+PGNpcmNsZSBmaWxsPSJyZ2JhKDEyNywgMTE4LCAxMjEsMSkiIGN4PSIzNSIgY3k9IjIwIiByPSIyLjc1Ij48L2NpcmNsZT48L3BhdHRlcm4+ICA8L2RlZnM+IDxyZWN0IGZpbGw9InVybCgjcGF0dGVybikiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvcmVjdD48L3N2Zz4=")'},orange:{color:e.palette.getContrastText(Le.a[500]),backgroundColor:Le.a[500]},loginbtn:{},margin:{marginTop:"10px"}}})),ze=function(e){var t=e.user,a=e.logOut,c=e.handleLogin,l=Object(n.useState)(!0),i=Object(d.a)(l,2),o=i[0],s=i[1],p=Object(n.useState)(""),g=Object(d.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)(""),y=Object(d.a)(h,2),v=y[0],j=y[1],x=Object(n.useState)(""),w=Object(d.a)(x,2),I=w[0],S=w[1],O=Object(n.useState)(""),k=Object(d.a)(O,2),D=k[0],T=k[1],M=Object(n.useState)(null),U=Object(d.a)(M,2),P=U[0],L=U[1],G=Object(n.useState)(null),B=Object(d.a)(G,2),Y=B[0],Z=B[1],J=Object(n.useState)(""),z=Object(d.a)(J,2),V=z[0],F=z[1],Q=Object(n.useState)(""),X=Object(d.a)(Q,2),K=X[0],q=X[1],$=function(e){e.preventDefault(),D===I?ae():(Z("warning"),L("Passwords do not match"),setTimeout((function(){L(null)}),3e3))},ae=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.signUp({username:f,name:v,password:I});case 3:L("New account successfully created!"),setTimeout((function(){L(null)}),5e3),b(""),S(""),j(""),T(""),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),Z("warning"),L(e.t0.response.data.error),setTimeout((function(){L(null)}),5e3),console.log(e.t0.response.data.error);case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),le=function(e){e.preventDefault(),c({username:V,password:K})},ie=We();return t?r.a.createElement(_.a,{className:ie.margin},r.a.createElement(ee.a,{expandIcon:r.a.createElement(ne.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(A.a,{className:ie.heading},t.name,"' profile",r.a.createElement(E.a,{onClick:a},"LogOut"))),r.a.createElement(te.a,null,r.a.createElement(R.a,{component:"nav",className:ie.root,"aria-label":"mailbox folders"},r.a.createElement(H.a,{button:!0},r.a.createElement(re.a,null,r.a.createElement(He.a,null)),r.a.createElement(W.a,{primary:"account created:",secondary:we()(t.date).format("DD/MM/YYYY  HH:mm:ss")})),r.a.createElement(ce.a,null),r.a.createElement(H.a,{button:!0,divider:!0},r.a.createElement(re.a,null,r.a.createElement(Je.a,null)),r.a.createElement(W.a,{primary:"number of entries",secondary:t.entries.length})),r.a.createElement(H.a,{button:!0},r.a.createElement(re.a,null,r.a.createElement(Ye.a,null)),r.a.createElement(W.a,{primary:"name",secondary:t.username})),r.a.createElement(ce.a,{light:!0}),r.a.createElement(H.a,{button:!0},r.a.createElement(re.a,null),r.a.createElement(W.a,null))))):r.a.createElement("div",{className:ie.root},r.a.createElement(C.a,{className:ie.margin,container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,sm:12},r.a.createElement(N.a,{className:ie.paper},r.a.createElement(De,{username:V,password:K,handleUsernameChange:function(e){var t=e.target;return F(t.value)},handlePasswordChange:function(e){var t=e.target;return q(t.value)},handleSubmit:le}),"you don' t have an account?",r.a.createElement(E.a,{color:"secondary",onClick:function(){s(!o)}},"Sign-Up"))),r.a.createElement(C.a,{item:!0,xs:12,sm:12},P&&r.a.createElement(je.a,{variant:"filled",severity:Y},r.a.createElement(Ge.a,null,P)),o?"":r.a.createElement(N.a,{className:ie.paper},r.a.createElement(Me,{signUsername:f,signName:v,signPassword:I,confirmPassword:D,handleSignUsernameChange:function(e){var t=e.target;return b(t.value)},handleSignNameChange:function(e){var t=e.target;return j(t.value)},handleSignPasswordChange:function(e){var t=e.target;return S(t.value)},handleConfirmPasswordChange:function(e){var t=e.target;return T(t.value)},handleSubmit:$})))))},Ve={login:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllUsers:function(){return Ae.a.get("/api/users").then((function(e){return e.data}))}},Fe=null,Qe={getAll:function(e,t,a,n){return Ae.a.get("/api/entries?page=".concat(e,"&limit=").concat(t,"&query=").concat(a,"&curUser=").concat(n)).then((function(e){return e.data}))},create:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Fe}},e.next=3,Ae.a.post("/api/entries",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){Fe="bearer ".concat(e)},update:function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.a.put("".concat("/api/entries","/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleted:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:Fe}},e.next=3,Ae.a.delete("".concat("/api/entries","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Xe=a(137),Ke=a(350),qe=a(474),$e=a(481),_e=a(416),et=a(347),tt=a.n(et),at=a(348),nt=a.n(at),rt=a(483),ct=a(479),lt=Object(h.a)((function(e){return{root:{flexGrow:1},rooted:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},orange:{color:e.palette.getContrastText(Le.a[500]),backgroundColor:Le.a[500]},pagination:{alignItems:"center",textAlign:"center",justifyContent:"center",justifySelf:"center"},paginator:{alignItems:"center",justifyItems:"center"},centerAlignment:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center","& > *":{margin:e.spacing(1)}},centerAlignmentBot:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}},center:{},end:{height:"100%"},toolbarSettings:{display:"flex",justifyContent:"space-evenly"},flexstart:{}}})),it=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(d.a)(l,2),h=s[0],j=s[1],x=Object(n.useState)(null),w=Object(d.a)(x,2),I=w[0],S=w[1],O=Object(n.useState)(null),N=Object(d.a)(O,2),C=N[0],k=N[1],D=Object(n.useState)(null),T=Object(d.a)(D,2),M=T[0],U=T[1],A=Object(n.useState)(1),P=Object(d.a)(A,2),L=P[0],G=P[1],B=Object(n.useState)(5),Y=Object(d.a)(B,2),Z=Y[0],R=Y[1],H=Object(n.useState)(""),W=Object(d.a)(H,2),z=W[0],V=W[1],F=Object(n.useState)(""),Q=Object(d.a)(F,2),X=Q[0],K=Q[1],_=h?r.a.createElement(nt.a,null):r.a.createElement(tt.a,null);Object(n.useEffect)((function(){Qe.getAll(L,Z,z,X).then((function(e){return c(e.results)}))}),[L,Z,z,X]);var ee=Object(Ke.a)({palette:{type:h?"dark":"light"}});Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedBlogAppUser");if(e){var t=JSON.parse(e);U(t),Qe.setToken(t.token)}}),[]);var te=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.prev=1,e.next=4,Ve.login({username:a,password:n});case 4:r=e.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(r)),Qe.setToken(r.token),U(r),k("success"),S("Welcome ".concat(r.name,"!")),setTimeout((function(){S(null)}),5e3),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),k("warning"),S("wrong mail or password"),setTimeout((function(){S(null)}),5e3);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){R(e)},ne=lt();return r.a.createElement(qe.a,{theme:ee},r.a.createElement(p.a,null,r.a.createElement(g.a,{position:"static"},r.a.createElement(f.a,{className:ne.toolbarSettings},r.a.createElement(E.a,{color:"inherit",component:Xe.b,to:"/"},"home"),r.a.createElement(E.a,{color:"inherit",component:Xe.b,to:"/entries"},"entries"),r.a.createElement(E.a,{className:ne.loginbtn,color:"inherit",component:Xe.b,to:"/login"},M?r.a.createElement(b.a,{className:ne.orange},M.name.substring(0,2)):"login/sign-up"),r.a.createElement(_e.a,{edge:"end",color:"inherit","aria-label":"mode",onClick:function(){return j(!h)}},_))),r.a.createElement("div",{className:ne.rooted},I&&r.a.createElement(je.a,{variant:"filled",severity:C},r.a.createElement(Ge.a,null,I))),r.a.createElement(J.c,null,r.a.createElement(J.a,{path:"/entries"},M?r.a.createElement("div",{className:ne.centerAlignment},r.a.createElement(y.a,{className:ne.center,variant:"text",color:"secondary","aria-label":"contained primary button group"},r.a.createElement(E.a,{onClick:function(){return ae(5)}},"5"),r.a.createElement(E.a,{onClick:function(){return ae(10)}},"10"),r.a.createElement(E.a,{onClick:function(){return ae(15)}},"15")),r.a.createElement("form",{className:ne.end,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{color:"secondary",id:"Search",label:"Search",value:z,onChange:function(e){return V(e.target.value)}})),r.a.createElement(ct.a,{control:r.a.createElement(rt.a,{onChange:function(){if(!X)return K(M.username);K("")},name:"checkedB",color:"primary"}),label:"current user results"})):"",r.a.createElement(Ce,{key:M,user:M,entries:a,handleLikes:function(e){var t=a.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{likes:t.likes+1});Qe.update(e,n).then((function(){c(a.map((function(t){return t.id!==e?t:n})))}))},handleDeletion:function(e){var t=a.find((function(t){return t.id===e}));window.confirm("Remove ".concat(t.title,"?"))&&Qe.deleted(e).then((function(){c(a.filter((function(e){return e!==t})))}))}}),M?r.a.createElement("div",{className:ne.centerAlignmentBot},r.a.createElement($e.a,{className:ne.paginator,align:"center",count:10,page:L,onChange:function(e,t){G(t)},defaultPage:1})):""),r.a.createElement(J.a,{path:"/login"},r.a.createElement(ze,{user:M,logOut:function(){window.localStorage.removeItem("loggedBlogAppUser"),U(null)},handleLogin:te})),r.a.createElement(J.a,{path:"/"},r.a.createElement(q,{user:M,createEntry:function(e){Qe.create(e).then((function(e){c([].concat(Object(o.a)(a),[e])),k("success"),S("New entry ".concat(e.title,"!")),setTimeout((function(){S(null)}),5e3)})).catch((function(e){console.log(e),k("warning"),S(e.response.data.error),setTimeout((function(){S(null)}),5e3)}))}}))),r.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Xe.a,null,r.a.createElement(it,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[365,1,2]]]);
//# sourceMappingURL=main.9ff8fc34.chunk.js.map